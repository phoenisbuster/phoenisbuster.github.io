System.register("chunks:///_virtual/Audio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./SoundName.ts"],(function(n){"use strict";var t,e,s,o,u,c,a,i;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,s=n._decorator,o=n.director,u=n.Component},function(n){c=n.default},function(n){a=n.getSoundName,i=n.SoundName}],execute:function(){var r,l;e._RF.push({},"a4da9qiLghIM6/synVSyKNW","Audio",void 0);var d=s.ccclass;s.property,n("Audio",d("Audio")(((l=function(n){function e(){return n.apply(this,arguments)||this}t(e,n),e.getInstance=function(){return e._instance};var s=e.prototype;return s.createInstance=function(){null==e._instance?(e._instance=this,o.isPersistRootNode(this.node)||o.addPersistRootNode(this.node)):this.destroy()},s.onLoad=function(){this.createInstance()},s.start=function(){var n,t,e,s;this.playBGMusic(),null==(n=c.getInstance())||n.setMusicVolume(1),null==(t=c.getInstance())||t.setSfxVolume(1),null==(e=c.getInstance())||e.setMusicStatus(!0),null==(s=c.getInstance())||s.setSfxStatus(!0)},s.playBGMusic=function(){var n;null==(n=c.getInstance())||n.play(a(i.BGM))},s.stopBGMusic=function(){var n;null==(n=c.getInstance())||n.stop(a(i.BGM))},s.playSoundInstance=function(n){var t;null==(t=c.getInstance())||t.play(a(n))},s.stopSoundInstance=function(n){var t;null==(t=c.getInstance())||t.stop(a(n))},e}(u))._instance=null,r=l))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/AvatarLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var r,a,e,n,o,i;return{setters:[function(t){r=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator,n=t.Sprite,o=t.Component},function(t){i=t.Utils}],execute:function(){var s;a._RF.push({},"50e86Lw8dZC1L0CvpTaYYDo","AvatarLoader",void 0);var c=e.ccclass;e.property,t("AvatarLoader",c("AvatarLoader")(s=function(t){function a(){for(var r,a=arguments.length,e=new Array(a),n=0;n<a;n++)e[n]=arguments[n];return(r=t.call.apply(t,[this].concat(e))||this).AvatarSprite=null,r}r(a,t);var e=a.prototype;return e.onLoad=function(){this.AvatarSprite=this.node.getComponentInChildren(n)},e.setAvatar=function(t){this.AvatarSprite&&(this.AvatarSprite.spriteFrame=t)},e.loadAvatar=function(t){var r=this;i.loadImage(t,(function(t){null==r||r.setAvatar(t)}))},a}(o))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonEffectComp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,i,s,r,u,a,l,c,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,u=t.Node,a=t.Button,l=t.Toggle,c=t.Vec3,h=t.Component}],execute:function(){var g,f,p,v;s._RF.push({},"6879eyX1KFHebAV/OJY9RM+","ButtonEffectComp",void 0);var E=r.ccclass,d=r.property;t("default",(g=d(u),E((v=e((p=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).button=null,e.toggle=null,o(e,"target",v,i(e)),e}n(e,t);var s=e.prototype;return s.onLoad=function(){this.button=this.node.getComponent(a),this.toggle=this.node.getComponent(l),null==this.target&&(this.target=this.node)},s.start=function(){this.registerEvent()},s.registerEvent=function(){this.node.on(u.EventType.TOUCH_START,this.onMouseEnter,this,!0),this.node.on(u.EventType.TOUCH_END,this.onMouseLeave,this,!0)},s.unregisterEvent=function(){this.node.off(u.EventType.TOUCH_START,this.onMouseEnter,this,!0),this.node.off(u.EventType.TOUCH_END,this.onMouseLeave,this,!0)},s.onMouseEnter=function(t,e){null!=this.button&&this.button.interactable&&(this.target.scale=new c(1.05,1.05,1.05)),null!=this.toggle&&this.toggle.interactable&&(this.target.scale=new c(1.05,1.05,1.05))},s.onMouseLeave=function(t,e){this.target.scale=c.ONE},s.onDestroy=function(){this.unregisterEvent()},e}(h)).prototype,"target",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./SoundName.ts"],(function(n){"use strict";var t,e,o,r,a,u,i,c,s,l,p,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){a=n.cclegacy,u=n._decorator,i=n.Enum,c=n.Component,s=n.Button},function(n){l=n.default},function(n){p=n.SoundName,d=n.getSoundName}],execute:function(){var f,h,y,g;a._RF.push({},"ae358yMjMlKQrTZKG4j2eF1","ButtonSound",void 0);var v=u.ccclass,m=u.property;n("default",(f=m({type:i(p)}),v((g=t((y=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),u=0;u<e;u++)a[u]=arguments[u];return t=n.call.apply(n,[this].concat(a))||this,o(t,"sound",g,r(t)),t}e(t,n);var a=t.prototype;return a.onLoad=function(){var n=new c.EventHandler;n.target=this.node,n.component="ButtonSound",n.handler="callback",this.node.getComponent(s).clickEvents.push(n)},a.callback=function(){l.getInstance().play(d(this.sound))},t}(c)).prototype,"sound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.SfxClick}}),h=y))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/ChannelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserInfo.ts"],(function(e){"use strict";var n,r,t,o,s,u;return{setters:[function(e){n=e.inheritsLoose},function(e){r=e.cclegacy,t=e._decorator,o=e.director,s=e.Component},function(e){u=e.UserInfo}],execute:function(){var a,c;r._RF.push({},"46438PlgUpHOYgZntjC/DfN","ChannelManager",void 0);var l=t.ccclass;t.property,e("ChannelManager",l("ChannelManager")(((c=function(e){function r(){for(var n,r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return(n=e.call.apply(e,[this].concat(t))||this).DefaultRoomID="",n}n(r,e),r.getInstance=function(){return r._instance},r.getRoomInfo=function(){return r.CurrentRoom},r.getUserInfo=function(){return r.CurrentUser},r.getPlayersInfo=function(){return r.CurrentPlayers},r.setRoomInfo=function(e){r.CurrentRoom=e},r.setUserInfo=function(e){r.CurrentUser=e},r.setPlayersInfo=function(e){r.CurrentPlayers.push(e)},r.checkPlayersInfo=function(e){console.log("Check ID "+r.CurrentPlayers.length);for(var n=0;n<r.CurrentPlayers.length;n++)if(r.CurrentPlayers[n].getID()==e)return!0;return!1},r.refreshRoom=function(){delete r.CurrentRoom,r.CurrentRoom=null},r.refreshUser=function(){delete r.CurrentUser,r.CurrentUser=null},r.refreshGuest=function(){r.CurrentPlayers=[]};var t=r.prototype;return t.createInstance=function(){null==r._instance?(r._instance=this,r.CurrentPlayers=[],r.isViewer()&&(r.CurrentUser=new u(-1,"","","")),o.isPersistRootNode(this.node)||(console.log("ADD PErsisten Node 4"),o.addPersistRootNode(this.node))):this.destroy()},r.isHost=function(){var e,n;return(null==(e=r.getUserInfo())?void 0:e.getID())==(null==(n=r.getRoomInfo())?void 0:n.getHostID())},r.isViewer=function(){return!1},t.onLoad=function(){this.createInstance()},t.onDestroy=function(){r.refreshRoom(),r.refreshUser(),r.refreshGuest(),delete r._instance,r._instance=null},r}(s))._instance=null,c.CurrentRoom=null,c.CurrentUser=new u(0,"DevAccount","3368637342326461","https://s120-ava-talk.zadn.vn/a/5/0/0/1/120/47c87051e98d40548ac790e7fd6fa426.jpg"),c.CurrentPlayers=null,a=c))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/Connector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./helper.ts","./ChannelManager.ts","./index.js"],(function(n){"use strict";var t,e,o,c,r,i,s,a;return{setters:[function(n){t=n.createClass,e=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){c=n.cclegacy,r=n._decorator},null,function(n){i=n.getUrl},function(n){s=n.ChannelManager},function(n){a=n.default}],execute:function(){var u;c._RF.push({},"4dce43YhmJBII5v+D3uTu5n","Connector",void 0);var l=r.ccclass,g=(r.property,n("VITE_CDP_ENDPOINT","https://svc.mydatalakes.com/"),n("VITE_ENDPOINT","https://loyalty-socket.o2o.com.vn"));n("Connector",l("Connector")(u=function(){function n(){var n=this;this.connection=void 0,this.accessToken="",this.startConnecting=e(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Attempting reconnect"),t.next=4,n.connection.start();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),this.stopConnection=function(){var n;null==(n=this.connection)||n.stop()}}var c=n.prototype;return c.initConnection=function(n){void 0===n&&(n=null),n||(n="619626ad-7344-4f71-940b-c6d9c15e68bd"),console.log("Set WS Connection with roomID: "+n);var t=s.getUserInfo();this.connection=(new a.HubConnectionBuilder).withUrl(i(g,n,t.getID(),t.getName(),t.getAvatarUrl()),{skipNegotiation:!0,transport:a.HttpTransportType.WebSockets}).configureLogging(a.LogLevel.Information).build()},c.getConnectionState=function(){return null==this.connection?a.HubConnectionState.Disconnected:this.connection.state},t(n,[{key:"Connection",get:function(){return this.connection}}]),n}())||u);c._RF.pop()}}}));

System.register("chunks:///_virtual/ConsoleHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./helper.ts"],(function(e){"use strict";var n,t,s,o,i,c,r;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,s=e._decorator,o=e.EventTarget,i=e.director,c=e.Component},function(e){r=e.createChildMessage}],execute:function(){var a,d;t._RF.push({},"29a52PNxu5FQI8E04mmN0SB","ConsoleHelper",void 0);var l=s.ccclass,u=(s.property,e("consoleEvent",new o)),v=e("onReceivedMessageEvent","onReceivedMessageEvent");e("ConsoleHelper",l("ConsoleHelper")(((d=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var s=t.prototype;return s.createInstance=function(){null==t.Instance?(t.Instance=this,i.isPersistRootNode(this.node)||i.addPersistRootNode(this.node)):this.destroy()},s.start=function(){this.createInstance(),window&&(window.onReceivedMessage=t.Instance.onReceivedMessage.bind(this)),this.init()},s.sendMessageToParent=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var t=r(e,n);window.parent.postMessage(t,"*")},s.onReceivedMessage=function(e){u.emit(v,e)},s.init=function(){window.addEventListener?window.addEventListener("message",window.onReceivedMessage,!1):window.attachEvent("onmessage",window.onReceivedMessage)},t}(c)).Instance=void 0,a=d))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/DebugMsgOnScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,r,i,s,c,o,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,c=e._decorator,o=e.Label,u=e.Component}],execute:function(){var a,g,l,d,p,b;s._RF.push({},"0de0d/c1L1JTYgSmjo5d+sE","DebugMsgOnScreen",void 0);var f=c.ccclass,h=c.property;e("DebugMsgOnScreen",(a=f("DebugMsgOnScreen"),g=h(o),a(((b=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];return n=e.call.apply(e,[this].concat(s))||this,r(n,"debugMsg",p,i(n)),n}t(n,e),n.getInstance=function(){return n._instance};var s=n.prototype;return s.createInstance=function(){if(null!=n._instance)return console.log("DebugMsgOnScreen connect has already loaded"),void this.destroy();n._instance=this},s.onLoad=function(){this.createInstance()},s.setDebugMsg=function(e,n){void 0===e&&(e=""),void 0===n&&(n=!1),n?this.debugMsg.string=e:this.debugMsg.string+="\n"+e},n}(u))._instance=null,p=n((d=b).prototype,"debugMsg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=d))||l));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameDefinedData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,e;return{setters:[function(t){n=t.createClass},function(t){i=t.cclegacy,e=t._decorator}],execute:function(){t("GameDefinedData",void 0),i._RF.push({},"72fafbGGftFLbnjei328kzr","GameDefinedData",void 0);var o;e.ccclass,e.property;!function(t){var i,e,o,a=function(t,n){void 0===t&&(t=null),void 0===n&&(n=-1),this.sprite=void 0,this.result=void 0,this.sprite=t,this.result=n};!function(t){t.idle="idle",t.talk="talk",t.win="win"}(i||(i={})),function(t){t.idle1="Idle1",t.idle2="Idle2",t.in="in",t.out="out",t.touch="touch"}(e||(e={})),function(t){t.loading="Game đang tải vui lòng đợi chút xíu, xin cảm ơn!!!",t.loadingDone="Tải xong rồi, vào game thôi",t.getInfo="Cho mình xin tên và số điện thoại của bạn nhé",t.playgame="Chúc bạn chơi game vui vẻ",t.win="Chúc mùng bạn đã trúng thưởng",t.out="Xin lỗi nhưng hết lượt quay mất rồi",t.chat1="Test",t.chat2="Hôm nay có vẻ như bản không may mắn lắm thì phải :v",t.chat3="????",t.chat4="Ăn may đấy",t.chat5="Nói thật bạn xui vl",t.nameInvalid="Tên của bạn không hợp lệ",t.phoneInvalid="Số điện thoại của bạn không hợp lệ"}(o||(o={}));var r=function(t,n,i){void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),this.col=void 0,this.row=void 0,this.symbol=void 0,this.col=t,this.row=n,this.symbol=i},c=function(){function t(){this._timeState1=.3,this._timeState2=.25,this._timeState3=.3,this._timeState4=.5,this._timeState5=.25,this._spinNumber=10,this._shrugLevel=100}return t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},n(t,[{key:"timeState1",get:function(){return this._timeState1}},{key:"timeState2",get:function(){return this._timeState2}},{key:"timeState3",get:function(){return this._timeState3}},{key:"timeState4",get:function(){return this._timeState4}},{key:"timeState5",get:function(){return this._timeState5}},{key:"spinNumber",get:function(){return this._spinNumber}},{key:"shrugLevel",get:function(){return this._shrugLevel}}]),t}();c._instance=null;var l=function(){function t(){}return t.getData=function(){return this.data},t}();l.data=[{line:[{col:0,row:0},{col:0,row:1},{col:0,row:2}]},{line:[{col:1,row:0},{col:1,row:1},{col:1,row:2}]},{line:[{col:2,row:0},{col:2,row:1},{col:2,row:2}]},{line:[{col:0,row:0},{col:1,row:1},{col:2,row:2}]},{line:[{col:0,row:2},{col:1,row:1},{col:2,row:0}]}],t.getAllRef=function(){return{GirlAnimName:i,BtnSpinAnimName:e,ChatBoxContent:o,ResultItem:a,LineData:l,RewardData:r,ConfigData:c}}}(o||(o=t("GameDefinedData",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/GameInfoPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpInstance.ts","./GameManager.ts"],(function(e){"use strict";var n,t,a,i,o,l,r,s,u,c,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,r=e.Button,s=e.EditBox,u=e.EventTarget},function(e){c=e.default},function(e){p=e.GameManager}],execute:function(){var h,m,f,y,b,B,P,G,g,C;o._RF.push({},"9077bgkBBJPAaq13dkPHEPA","GameInfoPopup",void 0);var k=l.ccclass,I=l.property;e("GameInfoPopup",(h=k("GameInfoPopup"),m=I(r),f=I(s),y=I(s),h(((C=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return n=e.call.apply(e,[this].concat(o))||this,a(n,"playGameBtn",P,i(n)),a(n,"nameInput",G,i(n)),a(n,"phoneInput",g,i(n)),n.onCallBackComplete=null,n.username="",n.phone="",n}t(n,e);var o=n.prototype;return o.onShow=function(e){this.onCallBackComplete=e,this.checkEnablePlayGameBtn()},o.onClickClose=function(){this.onCallBackComplete&&this.onCallBackComplete(),this.hidePopup()},o.onEditNameComplete=function(){this.username=this.nameInput.string,this.checkEnablePlayGameBtn()},o.onEditPhoneComplete=function(){this.phone=this.phoneInput.string,this.checkEnablePlayGameBtn()},o.onPlayGameClick=function(){""!=this.username&&""!=this.phone&&(p.getInstance().setUserInfo(this.username,this.phone),this.onClickClose())},o.checkEnablePlayGameBtn=function(){""!=this.username&&""!=this.phone?this.enablePlayGameBtn():this.disablePlayGameBtn()},o.enablePlayGameBtn=function(){this.playGameBtn.interactable=!0},o.disablePlayGameBtn=function(){this.playGameBtn.interactable=!1},n}(c)).eventTarget=new u,P=n((B=C).prototype,"playGameBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(B.prototype,"nameInput",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(B.prototype,"phoneInput",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=B))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopupName.ts","./UIManager.ts","./GameInfoPopup.ts","./LoadingPopup.ts","./ZaloConnection.ts","./GamePlayUI.ts","./UIController.ts","./GameDefinedData.ts","./MyGameUtils.ts","./RewardPopup.ts","./SoundManager.ts","./SoundName.ts"],(function(e){"use strict";var n,t,i,o,a,r,u,s,l,c,h,p,d,f,m,g,y,b,w,C,L,M,G,I,R,P,v,N,T,E;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,u=e.Node,s=e.Sprite,l=e.EditBox,c=e.Label,h=e.CCInteger,p=e.CCBoolean,d=e.director,f=e.sys,m=e.input,g=e.Input,y=e.Component},function(e){b=e.PopupName},function(e){w=e.default},function(e){C=e.GameInfoPopup},function(e){L=e.LoadingPopup},function(e){M=e.ZaloConnection},function(e){G=e.GamePlayUI},function(e){I=e.UIController},function(e){R=e.GameDefinedData},function(e){P=e.MyGameUtils},function(e){v=e.RewardPopup},function(e){N=e.default},function(e){T=e.getSoundName,E=e.SoundName}],execute:function(){var S,z,D,U,B,k,V,_,A,K,W,F,O,J,H,x,Y,Z,j,q,Q,X,$,ee,ne,te,ie,oe,ae,re,ue,se,le,ce,he,pe,de,fe;a._RF.push({},"fc1e4wc7IVDALGBHTm9PQ54","GameManager",void 0);var me=r.ccclass,ge=r.property,ye=R.getAllRef(),be=(ye.ResultItem,ye.LineData),we=ye.RewardData,Ce=be.getData();e("GameManager",(S=me("GameManager"),z=ge(u),D=ge(s),U=ge(u),B=ge(u),k=ge(u),V=ge(u),_=ge(u),A=ge(I),K=ge(u),W=ge(u),F=ge(l),O=ge(l),J=ge(u),H=ge(c),x=ge(h),Y=ge(p),Z=ge(p),S(((fe=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,i(n,"MainCanvas",Q,o(n)),i(n,"MainBG",X,o(n)),i(n,"PopupLayout",$,o(n)),i(n,"UILayout",ee,o(n)),i(n,"BtnLayout",ne,o(n)),i(n,"RewardLayout",te,o(n)),i(n,"CheatLayout",ie,o(n)),i(n,"uiController",oe,o(n)),i(n,"UIManagerNode",ae,o(n)),i(n,"SoundManagerNode",re,o(n)),i(n,"CheatEditLine",ue,o(n)),i(n,"CheatEditSymbol",se,o(n)),i(n,"AudioNode",le,o(n)),i(n,"debugMsgLabel",ce,o(n)),i(n,"defaultTurn",he,o(n)),i(n,"isCheat",pe,o(n)),i(n,"easyMode",de,o(n)),n.GameInfo=null,n.MainGame=null,n.Loading=null,n.Reward=null,n.curRoomName="",n.username="",n.phone="",n.curTurnNumber=0,n.cheatVal="-1",n.easyModeVal=0,n.isLastTurnWin=!1,n.isLastTurnJp=!1,n.easyModeRate=75,n}t(n,e),n.getInstance=function(){return n._instance};var a=n.prototype;return a.createInstance=function(){null==n._instance?(n._instance=this,d.isPersistRootNode(this.node)||d.addPersistRootNode(this.node)):this.destroy()},a.onLoad=function(){this.createInstance(),this.loadAllPopup(),this.debugMsgLabel.string+=f.platform+", "+f.browserType+", "+f.browserVersion+", "+f.osVersion+", "+f.osMainVersion},a.start=function(){this.curTurnNumber=this.defaultTurn,this.showLoadingPopup(),this.CheatLayout.active=this.isCheat,this.setEasyModeSymbol()},a.onEnable=function(){M.eventTarget.on("test",this.showGameInfo,this),m.on(g.EventType.KEY_DOWN,this.onKeyPress,this)},a.onDisable=function(){M.eventTarget.off("test",this.showGameInfo,this),m.off(g.EventType.KEY_DOWN,this.onKeyPress,this)},a.onDestroy=function(){delete n._instance,n._instance=null},a.showCheat=function(){this.CheatLayout.active=!this.CheatLayout.active,this.isCheat=this.CheatLayout.active},a.showLoadingPopup=function(){this.uiController.loadingState(),this.Loading?this.Loading.showPopup():this.loadLoadingPopup(this.showLoadingPopup)},a.showGameInfo=function(e){void 0===e&&(e=!1),this.uiController.getUserInfoState(e),this.GameInfo?this.GameInfo.showPopup():this.loadGameInfoPopup(this.showGameInfo)},a.showMainGame=function(){if(this.uiController.getUserInfoFinish(this.username,this.phone),this.MainGame){var e={callback:null,turn:this.curTurnNumber};this.MainGame.open(e)}else this.loadMainGamePopup(this.showMainGame)},a.showRewardPopup=function(e,n){if(void 0===n&&(n=null),this.Reward){var t={callback:n,name:this.username,phone:this.phone,reward:e};this.Reward.open(t)}else this.loadRewardPopup()},a.setCheatLine=function(){this.CheatEditLine.placeholder="Line: "+this.CheatEditLine.string,this.cheatVal=this.CheatEditLine.string,this.CheatEditLine.string=""},a.getCheatEnable=function(){if(this.easyMode){var e=P.getRandomFloat(100),n=this.isLastTurnWin?5:50;return this.curTurnNumber%2==0&&e<n||this.curTurnNumber%2!=0&&e>=100-n}return this.isCheat},a.getCheatLineValue=function(){var e=-1;try{e=parseInt(this.cheatVal)}catch(n){this.cheatVal="-1",e=-1}finally{return e}},a.getEasyMode=function(){return this.easyMode},a.setEasyModeSymbol=function(){if(this.easyMode){var e=P.getRandomFloat(100);this.easyModeRate=this.isLastTurnJp?75:this.easyModeRate-10<25?25:this.easyModeRate-10,e<this.easyModeRate?(this.easyModeVal=P.getRandomInt(6,0),this.isLastTurnJp=!1):(this.easyModeVal=7,this.isLastTurnJp=!0)}},a.getEasyModeSymbol=function(){return this.easyMode?this.easyModeVal:-1},a.setRoomName=function(e){this.curRoomName=e},a.getCurRoomName=function(){return this.curRoomName},a.deleteRoomName=function(){this.curRoomName=""},a.setUserInfo=function(e,n){this.username=e,this.phone=n,this.setRoomName(e)},a.getUserName=function(){return this.username},a.getPhoneNumer=function(){return this.phone},a.onNewTurn=function(){this.uiController.newState()},a.onChangeTurn=function(e,n){this.curTurnNumber=e,this.uiController.changeTurnNumber(this.curTurnNumber),n&&(this.uiController.onRollBtnClickAnim(),this.uiController.showHideBackBtnSprite(!0,!0))},a.onEndTurn=function(e,n,t){var i=this;if(void 0===n&&(n=null),void 0===t&&(t=null),!e||e.length<=0)console.error("Error when reading result in Game Manager!!!",e);else{var o=[],a=[];Ce.forEach((function(n,t){for(var r=[],u=0;u<n.line.length;u++)r.push(e[n.line[u].row].get(n.line[u].col).result);if(r.length==n.line.length&&P.allEleEqual(r)){a.push(r[0]);for(var s=0;s<n.line.length;s++)o.push(new we(n.line[s].col,n.line[s].row,r[0]));7==r[0]&&(i.isLastTurnJp=!0)}})),this.onReward(a,t),n&&n(o),this.setEasyModeSymbol()}},a.onReward=function(e,n){var t=this;if(void 0===n&&(n=null),this.uiController.showHideBackBtnSprite(!0,!1),e.length<=0)return n&&n(),void(this.isLastTurnWin=!1);this.isLastTurnWin=!0,N.getInstance().play(T(E.SfxWinline)),this.uiController.winState(),this.scheduleOnce((function(){t.showRewardPopup(e,n)}),1.5)},a.onEndGame=function(){var e=this;this.uiController.outOfTurnState((function(){e.MainGame.hidePopup(),n.getInstance().showGameInfo(!0),n.getInstance().onResetGame()}))},a.onResetGame=function(){this.curTurnNumber=this.defaultTurn},a.loadAllPopup=function(){this.loadLoadingPopup(),this.loadGameInfoPopup(),this.loadMainGamePopup(),this.loadRewardPopup()},a.loadLoadingPopup=function(e){var t=this;void 0===e&&(e=null);w.getInstance().openPopup(L,b.Loading,(function(){n.getInstance().showGameInfo(!1)}),(function(n){t.Loading=n,t.Loading.node.active=!1,e&&e()}))},a.loadGameInfoPopup=function(e){var t=this;void 0===e&&(e=null);w.getInstance().openPopup(C,b.GameInfo,(function(){n.getInstance().showMainGame()}),(function(n){t.GameInfo=n,t.GameInfo.node.active=!1,e&&e()}))},a.loadMainGamePopup=function(e){var t=this;void 0===e&&(e=null);var i={callback:function(){n.getInstance().showGameInfo(!0),n.getInstance().onResetGame()},turn:this.defaultTurn};w.getInstance().openPopup(G,b.GamePlay,i,(function(n){t.MainGame=n,t.MainGame.node.active=!1,e&&e()}))},a.loadRewardPopup=function(e){var t=this;void 0===e&&(e=null);var i={callback:function(){console.warn("Default Call Back RewardPopup Called"),n.getInstance().onEndGame()},name:"",phone:"",reward:[]};w.getInstance().openPopup(v,b.Reward,i,(function(n){t.Reward=n,t.Reward.node.active=!1,e&&e()}),this.RewardLayout)},a.onKeyPress=function(e){},n}(y))._instance=null,fe.CreateRoomClick="CreateRoomClick",fe.CreateRoomCancel="CreateRoomCancel",fe.CreateRoomOK="CreateRoomOK",fe.PlayGameClick="PlayGameClick",fe.LoadingComplete="FinishLoading",Q=n((q=fe).prototype,"MainCanvas",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(q.prototype,"MainBG",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(q.prototype,"PopupLayout",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=n(q.prototype,"UILayout",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=n(q.prototype,"BtnLayout",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=n(q.prototype,"RewardLayout",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=n(q.prototype,"CheatLayout",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=n(q.prototype,"uiController",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=n(q.prototype,"UIManagerNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=n(q.prototype,"SoundManagerNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=n(q.prototype,"CheatEditLine",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=n(q.prototype,"CheatEditSymbol",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=n(q.prototype,"AudioNode",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=n(q.prototype,"debugMsgLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=n(q.prototype,"defaultTurn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),pe=n(q.prototype,"isCheat",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),de=n(q.prototype,"easyMode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=q))||j));a._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlayUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpInstance.ts","./GameManager.ts","./SlotManager.ts","./GameDefinedData.ts"],(function(n){"use strict";var t,i,e,r,a,s,o,l,u,c,h,p,f,b,g;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){a=n.cclegacy,s=n._decorator,o=n.Button,l=n.Label,u=n.CCInteger,c=n.input,h=n.Input},function(n){p=n.default},function(n){f=n.GameManager},function(n){b=n.SlotManager},function(n){g=n.GameDefinedData}],execute:function(){var m,d,S,v,C,y,T,B,k,N,I;a._RF.push({},"e4c8f8xSoVEq6d+NHMAxRVG","GamePlayUI",void 0);var M=s.ccclass,R=s.property,D=g.getAllRef();D.ResultItem,D.RewardData,n("GamePlayUI",(m=M("GamePlayUI"),d=R(o),S=R(o),v=R(l),C=R(u),m((B=t((T=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=n.call.apply(n,[this].concat(a))||this,e(t,"backBtn",B,r(t)),e(t,"rollBtn",k,r(t)),e(t,"turnLabel",N,r(t)),e(t,"defaultTurnNumber",I,r(t)),t.slotManager=null,t.onCallBackComplete=null,t.curTurnNumber=0,t.startSpin=!1,t.isSpinning=!1,t.spinFinish=!1,t.isWin=!1,t}i(t,n);var a=t.prototype;return a.onLoad=function(){var n,t;this.slotManager=this.getComponentInChildren(b),null==(n=this.slotManager)||null==(t=n.event)||t.on("finish",this.onFinishRoll,this)},a.start=function(){var n;null==(n=this.slotManager)||n.initData()},a.onEnable=function(){c.on(h.EventType.KEY_DOWN,this.onKeyPress,this)},a.onDisable=function(){c.off(h.EventType.KEY_DOWN,this.onKeyPress,this)},a.onDestroy=function(){var n,t;null==(n=this.slotManager)||null==(t=n.event)||t.off("finish",this.onFinishRoll,this)},a.onShow=function(n){this.onCallBackComplete||(this.onCallBackComplete=n.callback),this.curTurnNumber=n.turn>0?n.turn:this.defaultTurnNumber,this.turnLabel.string=""+this.curTurnNumber,f.getInstance().onChangeTurn(this.curTurnNumber,!1),this.resetState()},a.onClickClose=function(){this.onCallBackComplete&&this.onCallBackComplete(),this.hidePopup()},a.onClickBackBtn=function(){this.onClickClose()},a.onClickRoll=function(){this.curTurnNumber<=0||this.isSpinning||(this.curTurnNumber--,this.turnLabel.string=""+this.curTurnNumber,f.getInstance().onChangeTurn(this.curTurnNumber,!0),this.onStartRoll())},a.onStartRoll=function(){var n,t=this;this.startSpin=!0,this.isSpinning=!1,this.spinFinish=!1,this.rollBtn.interactable=!1,this.backBtn.interactable=!1,null==(n=this.slotManager)||n.spin((function(){t.onSpinning()}))},a.onSpinning=function(){this.startSpin=!1,this.isSpinning=!0,this.spinFinish=!1},a.onFinishRoll=function(n){var t=this;this.startSpin=!1,this.isSpinning=!1,this.spinFinish=!0,f.getInstance().onEndTurn(n,(function(n){t.slotManager.receiveReward(n,(function(){}))}),(function(){t.onFinishTurn()}))},a.onFinishTurn=function(){this.resetState()},a.resetState=function(){this.startSpin=!1,this.isSpinning=!1,this.spinFinish=!1,0==this.curTurnNumber?(this.rollBtn.interactable=!1,this.backBtn.interactable=!1,f.getInstance().onEndGame(),this.slotManager.resetResult()):(this.backBtn.interactable=!0,this.rollBtn.interactable=!0,f.getInstance().onNewTurn())},a.setAnimation=function(n,t,i,e,r,a){if(void 0===n&&(n=null),void 0===t&&(t="animation"),void 0===i&&(i=!1),void 0===e&&(e=0),void 0===r&&(r=1),void 0===a&&(a=null),n){var s=n.setAnimation(0,t,i);n.setCompleteListener((function(n){a&&a()})),s&&(s.animationStart=e),n.timeScale=r}},a.onKeyPress=function(n){},t}(p)).prototype,"backBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(T.prototype,"rollBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(T.prototype,"turnLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(T.prototype,"defaultTurnNumber",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),y=T))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameUtils.ts",["cc"],(function(t){"use strict";var e,n,r,o,i,a,u,l,c;return{setters:[function(t){e=t.cclegacy,n=t._decorator,r=t.Component,o=t.UITransform,i=t.Vec3,a=t.instantiate,u=t.Vec2,l=t.Label,c=t.sys}],execute:function(){t("Badge",void 0),e._RF.push({},"e8ec0SXhphH/av7E5SFR+Bt","GameUtils",void 0);var m;n.ccclass,n.property;!function(t){t.gold="_gold",t.platinum="_platinum",t.diamond="_diamond",t.ruby="_ruby",t.emerald="_emerald"}(m||(m=t("Badge",{})));var s=t("default",function(){function t(){}return t.createClickBtnEvent=function(t,e,n,o){void 0===o&&(o="");var i=new r.EventHandler;return i.target=t,i.component=e,i.handler=n,i.customEventData=o,i},t.getUrlParameter=function(t,e){t=t.replace("/[[]/","\\[").replace("/[]]/","\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},t.removeParameterUrl=function(t,e){var n=e.split("?")[0],r=[],o=-1!==e.indexOf("?")?e.split("?")[1]:"";if(""!==o){for(var i=(r=o.split("&")).length-1;i>=0;i-=1)r[i].split("=")[0]===t&&r.splice(i,1);r.length&&(n=n+"?"+r.join("&"))}return n},t.removeAllParameterUrl=function(t){var e=t.split("?")[0],n=[],r=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==r){for(var o=(n=r.split("&")).length-1;o>=0;o-=1)n[o].split("=")[0],n.splice(o,1);n.length&&(e=e+"?"+n.join("&"))}return e},t.convertToOtherNode=function(t,e,n){void 0===n&&(n=null);var r=t;t.parent&&(r=t.parent);var i=r.getComponent(o).convertToWorldSpaceAR(t.position);return n&&(i=t.getComponent(o).convertToWorldSpaceAR(n)),e.getComponent(o).convertToNodeSpaceAR(i)},t.convertToOtherNode2=function(t,e,n){void 0===n&&(n=null);var r=t;t.parent&&(r=t.parent);var a=r.getComponent(o).convertToWorldSpaceAR(t.getPosition());return n&&(a=t.getComponent(o).convertToWorldSpaceAR(new i(n.x,n.y,0))),e.getComponent(o).convertToNodeSpaceAR(a)},t.rectContainsPoint=function(t,e){return e.x>=t.origin.x&&e.x<=t.origin.x+t.size.width&&e.y>=t.origin.y&&e.y<=t.origin.y+t.size.height},t.createItemFromNode=function(t,e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=!1),!e)return null;var o=n||e.parent,i=a(e);r?o.insertChild(i,0):o.addChild(i);var u=i.getComponent(t);return u.node.active=!0,e.active=!1,u},t.cloneItemFromNode=function(t,e){if(!e)return null;var n=a(e).getComponent(t);return n.node.active=!0,e.active=!1,n},t.createItemFromPrefab=function(t,e,n){if(!e)return null;var r=a(e);n.addChild(r);var o=r.getComponent(t);return o.node.active=!0,o},t.createNodeFromPrefab=function(t,e){if(!t)return null;var n=a(t);return e.addChild(n),n},t.formatDate=function(t,e){return e=(e=(e=(e=(e=(e=e.replace("%Y",t.getFullYear().toString())).replace("%m",t.getMonth().toString().length<2?"0"+t.getMonth().toString():t.getMonth().toString())).replace("%d",t.getDay().toString().length<2?"0"+t.getDay().toString():t.getDay().toString())).replace("%h",t.getHours().toString().length<2?"0"+t.getHours().toString():t.getHours().toString())).replace("%m",t.getMinutes().toString().length<2?"0"+t.getMinutes().toString():t.getMinutes().toString())).replace("%s",t.getSeconds().toString().length<2?"0"+t.getSeconds().toString():t.getSeconds().toString())},t.formatMoneyNumberMyUser=function(t){return"$ "+this.numberWithCommas(t)},t.formatMoneyNumberMyUserNotIcon=function(t){return this.numberWithCommas(t)},t.formatMoneyNumberUser=function(t){return"$ "+this.formatMoneyNumber(t)},t.formatMoneyNumber=function(t){var e=1,n=t;t<0&&(e=-1,n*=-1);var r="";return n>=1e9?(n/=1e9,r="B"):n>=1e6?(n/=1e6,r="M"):n>=1e3&&(n/=1e3,r="K"),(n=Math.floor(100*n+1e-8)/100*e)+r},t.formatMoneyNumber_v2=function(t){var e=1,n=t;t<0&&(e=-1,n*=-1);var r="";return n>=1e9?(n/=1e9,r=" Tỉ"):n>=1e6?(n/=1e6,r=" Triệu"):n>=1e3&&(n/=1e3,r=" Ngàn"),(n=Math.floor(100*n+1e-8)/100*e)+r},t.numberWithCommasMoney=function(t){return"$ "+this.numberWithCommas(t)},t.numberWithCommas=function(t){if(t){var e=(t=parseFloat(t)).toFixed(2).toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"00"!==e[1]?e.join(","):e[0]}return"0"},t.numberWithCommasV2=function(t){if(t){var e=(t=parseFloat(t)).toFixed(2).toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),"00"!==e[1]?e.join(","):e[0]}return"0"},t.numberWithDot=function(t){if(t){var e=(t=parseFloat(t)).toFixed(2).toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),"00"!==e[1]?e.join(","):e[0]}return"0"},t.formatMoneyWithRange=function(e,n){void 0===n&&(n=1e8);return e>=n?t.formatMoneyNumber(e):t.numberWithCommas(e)},t.roundNumber=function(t,e){void 0===e&&(e=1e3);var n=parseInt((t/e).toString());return t%e!=0&&(n+=1),n*e},t.getRandomInt=function(t,e){return void 0===e&&(e=0),e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},t.randomInsideCircle=function(t){void 0===t&&(t=1);var e=t*Math.sqrt(Math.random()),n=2*Math.random()*Math.PI,r=e*Math.cos(n),o=e*Math.sin(n);return new u(r,o)},t.getRandomFloat=function(t){return Math.random()*t},t.playAnimOnce=function(t,e,n,r){void 0===r&&(r=null),null!=t&&null!=t&&(t.setCompleteListener((function(o){""!=n&&null!=n&&t.setAnimation(0,n,!0),o.animation&&o.animation.name==e&&r&&r()})),t.setAnimation(0,e,!1))},t.sum=function(t){return t.length<=0?0:t.reduce((function(t,e){return t+e}))},t.setContentLabelAutoSize=function(t,e){e.length>30?t.overflow=l.Overflow.RESIZE_HEIGHT:t.overflow=l.Overflow.NONE,t.string=e},t.FormatString=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var o=0;o<n.length;o++)t=t.replace("{"+o+"}",n[o].toString());return t},t.isPlatformIOS=function(){return c.platform==c.Platform.IOS},t.isBrowser=function(){return c.isBrowser},t.isNative=function(){return c.isNative},t.isLogVersion=function(){return!0},t.isNullOrUndefined=function(t){return null==t||null==t},t.copyToClipboard=function(t){switch(c.platform){case c.Platform.ANDROID:case c.Platform.IOS:break;case c.Platform.MOBILE_BROWSER:case c.Platform.DESKTOP_BROWSER:if(navigator.clipboard)navigator.clipboard.writeText(t).then((function(){console.warn("Copy to Clipboard Success")}),(function(){console.error("Copy to Clipboard Fail")}));else{var e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}},t.prototype.fancyTimeFormat=function(t){var e=~~(t/3600),n=~~(t%3600/60),r=~~t%60,o="";return e>0&&(o+=e+":"+(n<10?"0":"")),o+=(n<10?"0":"")+n+":"+(r<10?"0":""),o+=""+r},t}());s.count=0,s.isStatusPing=!0,s.gameBetLevel=-1,e._RF.pop()}}}));

System.register("chunks:///_virtual/helper.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){e({createChildMessage:function(e,n){var t;void 0===e&&(e=null);void 0===n&&(n=null);return(t={})[E]=r,t[_]=e,t[u]=n,t},createParentMessage:function(e,n){var r;void 0===e&&(e=null);void 0===n&&(n=null);return(r={})[E]=t,r[_]=e,r[u]=n,r},getUrl:function(e,n,t,r,E){return e+"/hubs/game?roomId="+n+"&userAppId="+t+"&userName="+r+"&userAvatar="+E},isChildMessage:function(e){return null!=e&&e[E]==r},isParentMessage:function(e){return null!=e&&e[E]==t}}),n._RF.push({},"7638bnfIk9CPKhikZS7PDL/","helper",void 0);e("APP_NAME","Slot-Carem"),e("OA_ID","3327045134763932455"),e("DEV_VER","&env=DEVELOPMENT&version=zdev-83a0872d");var t=e("IFRAME_PARENT","RLGR_PARENT"),r=e("IFRAME_CHILD","RLGR_CHILD"),E=e("FROM","from"),_=e("EVENT","event"),u=e("DATA","data");e("LOGIN","LOGIN"),e("GET_APP_INFO","GET_APP_INFO"),e("GET_USER_INFO","GET_USER_INFO"),e("SCAN_QR_CODE","SCAN_QR_CODE"),e("FOLLOW_OA","FOLLOW_OA"),e("GET_HREF","GET_HREF"),e("SHARE_LINK","SHARE_LINK"),e("ACCESS_TOKEN","ACCESS_TOKEN"),e("GET","data"),e("GAME_URL","https://phoenis.itch.io/slot-zalominiapp");n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpInstance.ts","./GameManager.ts"],(function(e){"use strict";var o,n,t,i,r,a,l,s,c,p;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Sprite,s=e.EventTarget},function(e){c=e.default},function(e){p=e.GameManager}],execute:function(){var u,g,h,d,f,C;r._RF.push({},"91204aF26BCCbrGV9D99G51","LoadingPopup",void 0);var L=a.ccclass,v=a.property;e("LoadingPopup",(u=L("LoadingPopup"),g=v(l),u(((C=function(e){function o(){for(var o,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o=e.call.apply(e,[this].concat(r))||this,t(o,"Logo",f,i(o)),o.onLoadingComplete=null,o}n(o,e);var r=o.prototype;return r.onShow=function(e){o.eventTarget.on(p.LoadingComplete,this.onClickClose,this),this.onLoadingComplete=e,this.scheduleOnce(this.onClickClose,1)},r.onDisable=function(){o.eventTarget.off(p.LoadingComplete,this.onClickClose,this)},r.onClickClose=function(){this.onLoadingComplete&&this.onLoadingComplete(),this.hidePopup()},o}(c)).eventTarget=new s,f=o((d=C).prototype,"Logo",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorageManager.ts",["cc"],(function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.cclegacy,r=e._decorator,n=e.sys}],execute:function(){var a;t._RF.push({},"d5a9bsDp4dAHqcZfky4Q3bK","LocalStorageManager",void 0);var o=r.ccclass;r.property,e("default",o(a=function(){function e(){}return e.internalGetString=function(e,t){void 0===t&&(t="");var r=n.localStorage.getItem(e);return null==r?t:r},e.internalSaveString=function(e,t){void 0===t&&(t=""),null==t?n.localStorage.removeItem(e):n.localStorage.setItem(e,t)},e.internalSaveBoolean=function(e,t){void 0===t&&(t=!0),null==t?n.localStorage.removeItem(e):n.localStorage.setItem(e,t.toString())},e.internalGetBoolean=function(e,t){void 0===t&&(t=!0);var r=n.localStorage.getItem(e);return null==r?t:"string"==typeof r?"true"===r:r},e.internalSaveUserData=function(e,t){if(null==t)n.localStorage.removeItem(e);else{var r=JSON.stringify(t);n.localStorage.setItem(e,r)}},e.internalGetUserData=function(e,t){void 0===t&&(t=null);var r=JSON.parse(n.localStorage.getItem(e));if(null!=r)return r;r=t},e}())||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ButtonEffectComp.ts","./ButtonSound.ts","./Connector.ts","./ConsoleHelper.ts","./DebugMsgOnScreen.ts","./GameUtils.ts","./LocalStorageManager.ts","./MyGameUtils.ts","./PopUpInstance.ts","./PopupName.ts","./ScreenShotComp.ts","./SoundItem.ts","./SoundManager.ts","./SoundName.ts","./Test.ts","./UIManager.ts","./Utils.ts","./helper.ts","./Audio.ts","./AvatarLoader.ts","./GameDefinedData.ts","./GameManager.ts","./ReelItem.ts","./ReelManager.ts","./SlotManager.ts","./UIController.ts","./ChannelManager.ts","./RoomInfo.ts","./ServerConnect.ts","./UserInfo.ts","./WebsocketConnect.ts","./ZaloConnection.ts","./GameInfoPopup.ts","./GamePlayUI.ts","./LoadingPopup.ts","./RewardPopup.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MyGameUtils.ts",["cc"],(function(t){"use strict";var e,r,n,o;return{setters:[function(t){e=t.cclegacy,r=t._decorator,n=t.sys,o=t.screen}],execute:function(){var u;e._RF.push({},"d46a77XQbBA4rA9e+OmUq16","MyGameUtils",void 0);var a=r.ccclass;r.property,t("MyGameUtils",a("MyGameUtils")(u=function(){function t(){}return t.isPlatformIOS=function(){return n.platform==n.Platform.IOS},t.isPlatformAndroid=function(){return n.platform==n.Platform.ANDROID},t.isBrowser=function(){return n.isBrowser},t.isNative=function(){return n.isNative},t.getWindowRes=function(){return o.windowSize},t.isNullOrUndefined=function(t){return null==t||null==t},t.getNumberWithComas=function(t,e){if(void 0===e&&(e=0),!t)return"0";"number"==typeof t&&(t=t.toFixed(e).toString());var r=t.split(".");0==e&&(r[1]="00");var n=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return"00"!==r[1]?n.concat("."+r[1]):n},t.getNumberWithDot=function(t,e){if(void 0===e&&(e=0),!t)return"0";"number"==typeof t&&(t=t.toFixed(e).toString());var r=t.split(".");0==e&&(r[1]="00");var n=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,".");return"00"!==r[1]?n.concat(","+r[1]):n},t.formatRoundingNumber=function(t,e){void 0===e&&(e=!0);var r="";t<0&&(r="-",t=-t);var n="";return t>=1e9?(t/=1e9,n=e?"B":" Tỉ"):t>=1e6?(t/=1e6,n=e?"M":" Triệu"):t>=1e3&&(t/=1e3,n=e?"K":" Ngàn"),r+(t=Math.floor(100*t+1e-8)/100)+n},t.roundNumber=function(t,e){void 0===e&&(e=1e3);var r=parseInt((t/e).toString());return t%e!=0&&(r+=1),r*e},t.getRandomInt=function(t,e){return void 0===e&&(e=0),e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},t.getRandomFloat=function(t){return Math.random()*t},t.getRandomEleInArray=function(t){return t[this.getRandomInt(t.length-1)]},t.getRandomEleInArrayByIndex=function(t){return this.getRandomInt(t.length-1)},t.sum=function(t){return t.length<=0?0:t.reduce((function(t,e){return t+e}))},t.allEleEqual=function(t){if(t.length<=0)return!1;if(1==t.length)return!0;for(var e=t[0],r=1;r<t.length;r++)if(e!=t[r])return!1;return!0},t.getFirstEleGreater=function(t,e){for(var r=0,n=t.length;r!=n;){var o=(r+n)/2;t[o]<=e?r=o+1:n=o}return t[r]},t.getDate=function(t){return t.getDate()},t.getMonth=function(t){return t.getMonth()+1},t.getYear=function(t){return t.getFullYear()},t.getHour=function(t){return t.getHours()},t.getNumDaysOfMonth=function(t){switch(t.getMonth()+1){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 4:case 6:case 9:case 11:return 30;case 2:return t.getFullYear()%4==0?29:28;default:return 30}},t.getUrlParameter=function(t,e){t=t.replace("/[[]/","\\[").replace("/[]]/","\\]");var r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))},t}())||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/PopUpInstance.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,n,i,s,a,l,r,c,h,u,p,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,l=e.Widget,r=e.Node,c=e.UIOpacity,h=e.director,u=e.Vec3,p=e.Tween,d=e.tween,f=e.Component}],execute:function(){var b,g,y,v,_,w,m,k,P,N;s._RF.push({},"d7f7amg80pJGqTshrqacamH","PopUpInstance",void 0);var S=a.ccclass,z=a.property;e("default",(b=z(l),g=z(r),y=z(c),S((w=t((_=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(t,"background",w,i(t)),n(t,"panelNode",m,i(t)),n(t,"panelOpacity",k,i(t)),n(t,"normalPanelSize",P,i(t)),n(t,"scaleWhenOpenAndClosePanelSize",N,i(t)),t._open=!1,t._data=void 0,t._onYes=void 0,t._onNo=void 0,t._close=void 0,t}o(t,e);var s=t.prototype;return s.onDestroy=function(){this.unscheduleAllCallbacks()},s.onLoad=function(){var e;this.background||(this.background=null==(e=this.node.getChildByName("darkBackground"))?void 0:e.getComponent(l)),this.background&&(this.background.isAlignLeft=!0,this.background.isAbsoluteRight=!0,this.background.isAbsoluteTop=!0,this.background.isAlignBottom=!0,this.background.left=-500,this.background.top=-500,this.background.bottom=-500,this.background.right=-500,this.background.target=h.getScene().getChildByName("Canvas")),this.node.active=!1},s.showPopup=function(){var e=this;if(null!=this.panelNode){this.panelNode.scale=u.ZERO,this.panelOpacity.opacity=0,this.node.active=!0,p.stopAllByTarget(this.panelNode);var t=this.normalPanelSize*this.scaleWhenOpenAndClosePanelSize,o=this.normalPanelSize;d(this.panelNode).to(0,{scale:u.ZERO}).to(.2,{scale:new u(t,t,t)}).to(.1,{scale:new u(o,o,o)}).call((function(){e.showDone()})).start(),d(this.panelOpacity).to(0,{opacity:0}).to(.2,{opacity:255}).start()}else this.node.active=!0,this.showDone()},s.hidePopup=function(){var e=this;if(null!=this.panelNode){p.stopAllByTarget(this.panelNode);var t=this.normalPanelSize*this.scaleWhenOpenAndClosePanelSize;d(this.panelNode).to(.2,{scale:new u(t,t,t)}).call((function(){e.node.active=!1,e.closeDone()})).start(),d(this.panelOpacity).to(.2,{opacity:0}).start()}else this.closeDone()},s.open=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o=null),this.beforeShow(),this._open=!0,this.showPopup(),this._data=e,this._onYes=t,this._onNo=o,this.onShow(e)},s.closeInstance=function(){this._open&&(this._open=!1,this._close&&this._close(),this.beforeClose(),this.hidePopup())},s.close=function(){this._open=!1,this._close&&this._close(),this.beforeClose(),this.hidePopup()},s.onYes=function(){this._onYes&&this._onYes(),this.close()},s.onNo=function(){this._onNo&&this._onNo(),this.close()},s.showDone=function(){this.afterShow()},s.closeDone=function(){0==this._open&&(this.node.active=!1,this.afterClose())},s.onShow=function(e){},s.afterShow=function(){},s.beforeShow=function(){},s.beforeClose=function(){},s.afterClose=function(){},t}(f)).prototype,"background",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(_.prototype,"panelNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(_.prototype,"panelOpacity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(_.prototype,"normalPanelSize",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),N=t(_.prototype,"scaleWhenOpenAndClosePanelSize",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.05}}),v=_))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/PopupName.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"2e457cIW7hAnppZU0hhM7Cg","PopupName",void 0);var a=e("PopupName",(function(){}));a.CreateRoom="CreateRoomPopup",a.Lobby="LobbyPopup",a.GameInfo="GameInfoPopup",a.Loading="LoadingPopup",a.Reward="RewardPopup",a.GamePlay="GamePlayUI",a.LeaderBoard="LeaderBoard",o._RF.pop()}}}));

System.register("chunks:///_virtual/ReelItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDefinedData.ts","./MyGameUtils.ts","./GameManager.ts"],(function(t){"use strict";var e,i,n,a,s,r,o,l,u,p,h,c,d,m,f,y,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,o=t.CCBoolean,l=t.Sprite,u=t.Component,p=t.instantiate,h=t.Node,c=t.Layers,d=t.Vec3,m=t.sp},function(t){f=t.GameDefinedData},function(t){y=t.MyGameUtils},function(t){g=t.GameManager}],execute:function(){var S,v,C,L,b;s._RF.push({},"6b193kmCitET4aAX1XnxmsJ","ReelItem",void 0);var I=r.ccclass,D=r.property,B=f.getAllRef().ResultItem,F=function(){function t(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),this.id=0,this.boundarySprite=null,this.dataSprite=null,this.spineComp=null,this.data=null,this.id=t,this.boundarySprite=e,this.dataSprite=i,this.setSpine(this.dataSprite.node),this.data=null!=n?n:new B}var e=t.prototype;return e.setSpine=function(t){var e=p(new h("SpineAnim"));e.parent=t,e.layer=c.BitMask.UI_2D,e.position=new d(0,0,0),this.spineComp=e.addComponent(m.Skeleton),this.spineComp.skeletonData=null,this.spineComp.premultipliedAlpha=!1,this.spineComp.enabled=!1},e.setItem=function(t){this.data=t,this.data&&(this.dataSprite.spriteFrame=this.data.sprite)},e.getId=function(){return this.id},e.getBoundarySpriteComp=function(){return this.boundarySprite},e.getDataSpriteComp=function(){return this.dataSprite},e.getCurSpriteFrame=function(){var t;return null==(t=this.dataSprite)?void 0:t.spriteFrame},e.getDataSprite=function(){return this.checkDataAvailable()?this.data.sprite:null},e.getResult=function(){return this.checkDataAvailable()?this.data.result:-1},e.checkDataAvailable=function(){return!y.isNullOrUndefined(this.data)},e.showHideBoundarySprite=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=null),this.boundarySprite.enabled=t,null!=e&&t){this.spineComp.skeletonData=e;var i=this.spineComp.setAnimation(0,"animation",!0);this.dataSprite.enabled=!1,this.spineComp.enabled=!0,i&&(i.animationStart=0)}else this.spineComp.skeletonData=null,this.dataSprite.enabled=!0,this.spineComp.enabled=!1},t}();t("ReelItem",(S=I("ReelItem"),v=D(o),S((b=e((L=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"isBlur",b,a(e)),e.itemList=new Map,e.spriteFrameList=[],e.spriteFrameBlurList=[],e.spineDataList=[],e.isCheat=!1,e.cheatKey=-1,e}i(e,t);var s=e.prototype;return s.onLoad=function(){var t=this;this.node.children.forEach((function(e,i){t.itemList.set(i,new F(i,e.getComponent(l),e.getComponentInChildren(l))),e.getComponent(l).enabled=!1}))},s.initData=function(t,e,i){this.spriteFrameList=t,this.spriteFrameBlurList=e,this.spineDataList=i,this.randomSprite(!1)},s.getItemLength=function(){return this.itemList.size},s.resetItem=function(){this.itemList.clear()},s.generateResultData=function(){var t=this;if(this.isBlur)return null;var e=new Map;y.getRandomEleInArrayByIndex(this.spriteFrameList);return this.itemList.forEach((function(i,n){var a=0;a=t.isCheat&&n==t.cheatKey?t.getCheatSymbol():y.getRandomEleInArrayByIndex(t.spriteFrameList);var s=new B(t.spriteFrameList[a],a);i.setItem(s),e.set(n,s)})),e},s.randomSprite=function(t){var e=this;this.itemList.forEach((function(i,n){var a=y.getRandomEleInArrayByIndex(t?e.spriteFrameBlurList:e.spriteFrameList),s=new B(t?e.spriteFrameBlurList[a]:e.spriteFrameList[a],a);i.setItem(s)}))},s.showWinSprite=function(t,e){if(!this.isBlur){var i=null;(e>=0||e<this.spineDataList.length)&&(i=this.spineDataList[e]),this.itemList.get(t).showHideBoundarySprite(!0,i)}},s.hideAllWinSprite=function(){this.isBlur||this.itemList.forEach((function(t,e){t.showHideBoundarySprite(!1,null)}))},s.setCheat=function(t,e){this.isCheat=t,this.cheatKey=e},s.getCheatSymbol=function(){if(g.getInstance().getEasyMode())return g.getInstance().getEasyModeSymbol();var t,e=null==(t=g.getInstance())?void 0:t.CheatEditSymbol.string,i=0;try{i=parseInt(e),(Number.isNaN(i)||i<0||i>=this.spriteFrameList.length)&&(i=0)}catch(t){i=0}finally{return i}},e}(u)).prototype,"isBlur",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=L))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/ReelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReelItem.ts","./GameDefinedData.ts","./SoundName.ts","./SoundManager.ts"],(function(t){"use strict";var e,n,i,o,a,s,r,l,u,p,c,h,m,d,f,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.CCFloat,l=t.EventTarget,u=t.tween,p=t.Vec3,c=t.Component},function(t){h=t.ReelItem},function(t){m=t.GameDefinedData},function(t){d=t.getSoundName,f=t.SoundName},function(t){S=t.default}],execute:function(){var R,g,b,v,P,Y,w,D,M;a._RF.push({},"44b94ljhTpDUL6QOYm7GDUf","ReelManager",void 0);var x=s.ccclass,y=s.property,_=m.getAllRef(),I=(_.ResultItem,_.ConfigData);t("ReelManager",(R=x("ReelManager"),g=y(r),b=y(r),v=y(r),R((w=e((Y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this).mainReel=null,e.blurReel=[],e.resultData=new Map,e.event=new l,i(e,"topPosY",w,o(e)),i(e,"mainPosY",D,o(e)),i(e,"botPosY",M,o(e)),e.timeState1=.3,e.timeState2=.25,e.timeState3=.3,e.timeState4=.5,e.timeState5=.25,e.spinNumber=10,e.shrugLevel=50,e}n(e,t);var a=e.prototype;return a.onLoad=function(){var t=this;this.getComponentsInChildren(h).forEach((function(e,n){e.isBlur?t.blurReel.push(e):t.mainReel=e})),this.GetCongifData()},a.initData=function(t,e,n){!this.mainReel||this.blurReel.length<=0?console.error("Reel Manager Data Have Not Difined!!!"):(this.mainReel.initData(t,e,n),this.blurReel.forEach((function(i){i.initData(t,e,n)})))},a.spin=function(){this.blurReel.forEach((function(t){t.randomSprite(!0)})),this.MovingState_1()},a.getResultData=function(){return this.resultData},a.sendResultData=function(){var t=this.resultData;this.resultData=new Map,this.event.emit("finish",t)},a.receiveRewardData=function(t,e){this.mainReel.showWinSprite(t,e)},a.resetState=function(){this.mainReel.hideAllWinSprite()},a.setCheat=function(t,e){this.mainReel.setCheat(t,e)},a.GetCongifData=function(){this.timeState1=I.getInstance().timeState1,this.timeState2=I.getInstance().timeState2,this.timeState3=I.getInstance().timeState3,this.timeState4=I.getInstance().timeState4,this.timeState5=I.getInstance().timeState5,this.spinNumber=I.getInstance().spinNumber,this.shrugLevel=I.getInstance().shrugLevel},a.MovingState_1=function(){var t=this;u(this.mainReel.node).to(this.timeState1,{position:new p(this.mainReel.node.position.x,this.botPosY,0)}).call((function(){t.mainReel.node.position=new p(t.mainReel.node.position.x,t.topPosY+50,0),t.resultData=t.mainReel.generateResultData()})).start(),this.blurReel.forEach((function(e,n){Math.abs(e.node.position.y-t.botPosY)<=150?e.node.position=new p(e.node.position.x,t.topPosY,0):u(e.node).to(t.timeState1,{position:new p(e.node.position.x,t.mainPosY,0)}).call((function(){e.node.position=new p(e.node.position.x,t.mainPosY,0),t.MovingState_2()})).start()}))},a.MovingState_2=function(t){var e=this;void 0===t&&(t=0),t>=this.spinNumber?this.MovingState_3():this.blurReel.forEach((function(n,i){Math.abs(n.node.position.y-e.topPosY)<=150?u(n.node).to(e.timeState2,{position:new p(n.node.position.x,e.mainPosY,0)}).call((function(){n.node.position=new p(n.node.position.x,e.mainPosY,0)})).start():Math.abs(n.node.position.y-e.mainPosY)<150&&u(n.node).to(e.timeState2,{position:new p(n.node.position.x,e.botPosY,0)}).call((function(){n.node.position=new p(n.node.position.x,e.topPosY,0),n.randomSprite(!0),e.MovingState_2(t+1)})).start()}))},a.MovingState_3=function(){var t=this;this.blurReel.forEach((function(e,n){Math.abs(e.node.position.y-t.topPosY)<=150?(e.randomSprite(!1),u(e.node).to(t.timeState3,{position:new p(e.node.position.x,t.mainPosY,0)}).call((function(){e.node.position=new p(e.node.position.x,t.mainPosY,0)})).start()):u(e.node).to(t.timeState3,{position:new p(e.node.position.x,t.botPosY,0)}).call((function(){e.node.position=new p(e.node.position.x,t.topPosY,0),e.randomSprite(!1),t.MovingState_4()})).start()}))},a.MovingState_4=function(){var t=this;this.mainReel.node.position=new p(this.mainReel.node.position.x,this.topPosY,0),u(this.mainReel.node).to(this.timeState4,{position:new p(this.mainReel.node.position.x,this.mainPosY,0)}).call((function(){t.mainReel.node.position=new p(t.mainReel.node.position.x,t.mainPosY,0)})).start(),this.blurReel.forEach((function(e,n){Math.abs(e.node.position.y-t.mainPosY)<=150&&u(e.node).to(t.timeState4,{position:new p(e.node.position.x,t.botPosY,0)}).call((function(){e.node.position=new p(e.node.position.x,t.botPosY,0),t.MovingState_5()})).start()}))},a.MovingState_5=function(){var t=this;S.getInstance().play(d(f.SfxRollStop)),u(this.mainReel.node).to(this.timeState5,{position:new p(this.mainReel.node.position.x,this.mainPosY-this.shrugLevel,0)}).call((function(){})).to(this.timeState5,{position:new p(this.mainReel.node.position.x,this.mainPosY,0)}).call((function(){t.sendResultData()})).start(),this.blurReel.forEach((function(e,n){Math.abs(e.node.position.y-t.topPosY)<=150&&u(e.node).to(t.timeState5,{position:new p(e.node.position.x,t.topPosY-t.shrugLevel,0)}).to(t.timeState5,{position:new p(e.node.position.x,t.topPosY,0)}).call((function(){})).start()}))},e}(c)).prototype,"topPosY",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 630}}),D=e(Y.prototype,"mainPosY",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=e(Y.prototype,"botPosY",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-630}}),P=Y))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/RewardPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpInstance.ts","./ScreenShotComp.ts","./SoundName.ts","./SoundManager.ts"],(function(e){"use strict";var n,t,i,o,a,r,c,l,s,u,p,h,m,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.Button,l=e.Label,s=e.sp},function(e){u=e.default},function(e){p=e.ScreenShotComp},function(e){h=e.getSoundName,m=e.SoundName},function(e){d=e.default}],execute:function(){var f,S,b,w,k,y,v,g,A,C,B,L;a._RF.push({},"4a004hSjaRGIocKuvCEWe4u","RewardPopup",void 0);var J=r.ccclass,N=r.property;e("RewardPopup",(f=J("RewardPopup"),S=N(c),b=N(l),w=N(l),k=N(s.Skeleton),f(((L=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,i(n,"screenShotBtn",g,o(n)),i(n,"nameLabel",A,o(n)),i(n,"phoneLabel",C,o(n)),i(n,"rewardAnim",B,o(n)),n.onCallBackComplete=null,n.rewardQueue=[],n.isJackpot=!1,n.currentSkinName="default",n}t(n,e);var a=n.prototype;return a.onShow=function(e){this.onCallBackComplete=e.callback,this.nameLabel.string=e.name,this.phoneLabel.string=e.phone,this.rewardQueue=e.reward.filter(this.onlyUnique),this.onPlayAnimReward()},a.onClickClose=function(){this.isJackpot=!1,this.nameLabel.string="",this.phoneLabel.string="",this.rewardQueue=[],this.onCallBackComplete&&this.onCallBackComplete(),this.hidePopup()},a.onClickScreenShot=function(){var e=this;console.warn("Screen Shot Begin"),this.screenShotBtn.interactable=!1,this.screenShotBtn.node.active=!1,this.scheduleOnce((function(){p.getInstance().capture(!1,!1,!0,(function(){e.playEndAnim(),console.warn("Screen Shot Finish")}))}),.5)},a.onPlayAnimReward=function(e){var n=this;if(void 0===e&&(e=null),this.rewardQueue.length<=0)return e&&e(),void this.hidePopup();this.rewardQueue.forEach((function(e){if(7==e)return n.isJackpot=!0,void n.playJackpotAnim()})),this.isJackpot||this.playSymbolAnim(this.rewardQueue.pop())},a.onlyUnique=function(e,n,t){return t.indexOf(e)===n},a.playSymbolAnim=function(e){var n=this;void 0===e&&(e=1),7!=e?(d.getInstance().play(h(m.SfxReward)),this.screenShotBtn.interactable=!1,this.currentSkinName="symbol"+(e+1),this.setAnimation(this.rewardAnim,this.currentSkinName,"in",!1,0,1,(function(){n.screenShotBtn.interactable=!0,n.setAnimation(n.rewardAnim,n.currentSkinName,"loop",!0,0,1,(function(){}))}))):this.rewardQueue.length<=0&&this.onClickClose()},a.playJackpotAnim=function(){var e=this;d.getInstance().play(h(m.SfxJackpot)),this.screenShotBtn.interactable=!1,this.currentSkinName="symbol_jp",this.setAnimation(this.rewardAnim,this.currentSkinName,"in_jp",!1,0,1,(function(){e.screenShotBtn.interactable=!0,e.setAnimation(e.rewardAnim,e.currentSkinName,"loop_jp",!0,0,1,(function(){}))}))},a.playEndAnim=function(){var e=this,n=this.isJackpot?"out_jp":"out";this.setAnimation(this.rewardAnim,this.currentSkinName,n,!1,0,1,(function(){e.screenShotBtn.node.active=!0,e.isJackpot&&(d.getInstance().stop(h(m.SfxJackpot)),e.isJackpot=!1),e.rewardQueue.length>0?e.playSymbolAnim(e.rewardQueue.pop()):e.onClickClose()}))},a.setAnimation=function(e,n,t,i,o,a,r){if(void 0===e&&(e=null),void 0===n&&(n="default"),void 0===t&&(t="animation"),void 0===i&&(i=!1),void 0===o&&(o=0),void 0===a&&(a=1),void 0===r&&(r=null),e){e.setSkin(n);var c=e.setAnimation(0,t,i);e.setCompleteListener((function(e){r&&r()})),c&&(c.animationStart=o),e.timeScale=a}},n}(u)).eventTarget=new EventTarget,g=n((v=L).prototype,"screenShotBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(v.prototype,"nameLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(v.prototype,"phoneLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(v.prototype,"rewardAnim",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/RoomInfo.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"d9596xSwolDyr/TGnWt2gkt","RoomInfo",void 0);t("RoomInfo",function(){function t(t,r,e,o,i){void 0===t&&(t="Default"),void 0===r&&(r=""),void 0===e&&(e=""),void 0===o&&(o=1),void 0===i&&(i=1),this.roomName="",this.roomID="",this.hostID="",this.curNumberPlayer=0,this.maxPlayers=0,this.roomName=t,this.roomID=r,this.hostID=e,this.curNumberPlayer=o,this.maxPlayers=i}var r=t.prototype;return r.getName=function(){return this.roomName},r.getID=function(){return this.roomID},r.getHostID=function(){return this.hostID},r.getCurPlayerNumber=function(){return this.curNumberPlayer},r.setCurPlayerNumber=function(t){this.curNumberPlayer=t},r.getMaxPlayer=function(){return this.maxPlayers},r.setMaxPlayer=function(t){this.maxPlayers=t},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenShotComp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,n,r,a,s,l,i,c,g,u,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,l=e.Node,i=e.director,c=e.sys,g=e.game,u=e.Director,d=e.Component,p=e.screen}],execute:function(){var b,m,v,h,C,w;a._RF.push({},"54c1e8S51pIyo21BtzYVn3t","ScreenShotComp",void 0);var f=s.ccclass,x=s.property;e("ScreenShotComp",(b=f("ScreenShotComp"),m=x(l),b(((w=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"gameCanvas",C,r(t)),t.idx=0,t}o(t,e),t.getInstance=function(){return t._instance};var a=t.prototype;return a.onLoad=function(){t._instance=this,i.addPersistRootNode(this.node)},a.start=function(){},a.logImportantInfo=function(){console.warn("==== Log Info For ScreenShot ===="),console.log("Platform ",c.platform),console.log("sys isBowser ",c.isBrowser),console.log("sys isMobile ",c.isMobile),console.log("sys isNative ",c.isNative),console.log("Browser type ",c.browserType),console.log("Browser version ",c.browserVersion),console.log("Os version ",c.osVersion),console.log("Os main version ",c.osMainVersion);var e=document.createElement("canvas").getContext("2d");e?(console.log("2d render works!"),console.log("Check browser 2d render attr is null",e.getContextAttributes),e.getContextAttributes&&console.log("Check browser 2d render attr",e.getContextAttributes())):console.log("your browser/OS/drivers do not support 2d"),"undefined"!=typeof CanvasRenderingContext2D?console.log("Game appears to support 2d"):console.log("Game has no 2d support at all");var t=document.createElement("canvas").getContext("webgl");t?(console.log("webgl works!"),console.log("Check browser webgl attr",t.getContextAttributes())):console.log("your browser/OS/drivers do not support WebGL");var o=document.createElement("canvas").getContext("webgl2");o?(console.log("webgl2 works!"),console.log("Check browser webgl2 attr",o.getContextAttributes())):console.log("your browser/OS/drivers do not support WebGL2"),console.log("Check Game Canvas a",g.canvas.getContext("2d")),console.log("Check Game Canvas b",g.canvas.getContext("webgl")),console.log("Check Game Canvas c",g.canvas.getContext("webgl2"));var n=g.canvas.getContext("webgl"),r=g.canvas.getContext("webgl2");n?(console.log("Game Webgl works!",n),console.log("Game Webgl getContextAttributes",n.getContextAttributes()),console.log("Game Webgl getContextAttributes premultipliedAlpha",n.getContextAttributes().premultipliedAlpha)):"undefined"!=typeof WebGLRenderingContext?console.log("Game appears to support WebGL but it might be disabled"):console.log("Game has no WebGL support at all"),r?(console.log("Game Webgl2 works!",r),console.log("Game Webgl2 getContextAttributes",r.getContextAttributes()),console.log("Game Webgl2 getContextAttributes premultipliedAlpha",r.getContextAttributes().premultipliedAlpha)):"undefined"!=typeof WebGL2RenderingContext?console.log("Game appears to support WebGL2 but it might be disabled"):console.log("Game has no WebGL2 support at all"),console.warn("==== End ====")},a.capture=function(e,t,o,n){var r=this;void 0===o&&(o=!1),void 0===n&&(n=null);i.once(u.EVENT_AFTER_DRAW,(function(){var e=p.windowSize.width,t=p.windowSize.height,a=r.getDataUrl(g.canvas),s=document.createElement("canvas");s.id="captureCanvas",s.width=e,s.height=t;var l=s.getContext("2d"),i=new Image;i.src=a,i.onload=function(){var a=e,c=t;l.drawImage(i,0,0,e,t);var g=l.getImageData(e/2-a/2+0,t/2-c/2+0,a,c),u=document.createElement("canvas");u.id="cropCanvas",u.width=a,u.height=c;var d=u.getContext("2d");d.rect(0,0,a,c),d.fillStyle="white",d.fill(),d.putImageData(g,0,0);var p=u.toDataURL();if(o){var b=document.createElement("a");b.download="screencapture"+r.idx,b.href=p,b.click(),r.idx++}u=null,s=null,n&&n()}}))},a.getDataUrl=function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var o=t.getContext("2d");return o?(null==o||o.drawImage(e,0,0),o.canvas.toDataURL()):(console.error("Cannot create context"),"")},t}(d))._instance=null,C=t((h=w).prototype,"gameCanvas",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=h))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/ServerConnect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoomInfo.ts","./WebsocketConnect.ts","./ChannelManager.ts","./Connector.ts"],(function(e){"use strict";var n,t,o,s,a,r,c,i,l,u,g;return{setters:[function(e){n=e.inheritsLoose,t=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,s=e._decorator,a=e.director,r=e.Component},function(e){c=e.RoomInfo},function(e){i=e.WebsocketConnect},function(e){l=e.ChannelManager},function(e){u=e.VITE_ENDPOINT,g=e.VITE_CDP_ENDPOINT}],execute:function(){var d,f;e({API_TYPE:void 0,CONNECT_METHOD:void 0,GAME_TYPE:void 0}),o._RF.push({},"ad19cZGZRVP9o4ghO8OGIGB","ServerConnect",void 0);var v,C,E,I=s.ccclass;s.property;!function(e){e.GET="GET",e.POST="POST"}(v||(v=e("CONNECT_METHOD",{}))),function(e){e.RLGL="/rlglgame/"}(C||(C=e("GAME_TYPE",{}))),function(e){e.JoinLink="JoinLink",e.CreateRoom="CreateRoom",e.ChangeReadyState="ChangeReadyState",e.RemoveUser="RemoveUser",e.SetHost="SetHost",e.PlayGame="Play"}(E||(E=e("API_TYPE",{})));e("ServerConnect",I("ServerConnect")(((f=function(e){function o(){return e.apply(this,arguments)||this}n(o,e),o.getInstance=function(){return o._instance};var s=o.prototype;return s.createInstance=function(){null==o._instance?(o._instance=this,a.isPersistRootNode(this.node)||(console.log("ADD PErsisten Node 3"),a.addPersistRootNode(this.node))):this.destroy()},s.onLoad=function(){this.createInstance()},s.start=function(){},s.onDestroy=function(){delete o._instance,o._instance=null},s.initConnection=function(e,n,t,s,a,r,c,i){void 0===a&&(a=null),void 0===r&&(r=null),void 0===i&&(i=null);var l=new XMLHttpRequest;l.responseType="json",l.onreadystatechange=function(){if(l.readyState==XMLHttpRequest.DONE){var e=l.response;console.log("Test the received msg: ",l.response),e?1==e.success&&(console.log("Log Data: "+e.data),o.DataExecution(s,e.data,i)):console.log("404 Not found")}},l.open(t,this.getUrl(e,n,s,a),!0),l.setRequestHeader("Content-type","application/json"),l.send(r)},s.getUrl=function(e,n,o,s){void 0===n&&(n=null),void 0===o&&(o=null),void 0===s&&(s=null);var a="";if(s)for(var r,c=0,i=t(s);!(r=i()).done;){var l=r.value,u=l[0],g=l[1];a+=0==c?"?"+u+"="+g:"&"+u+"="+g,c++}var d=e+n+o+a;return console.log(d),d},o.DataExecution=function(e,n,t){switch(void 0===t&&(t=null),e){case E.CreateRoom:var o=new c(n.name,n.id,n.hostUserAppId,1,n.maxUser);l.setRoomInfo(o),console.log("ADVANCE LOG: "+JSON.stringify(l.getUserInfo())),l.setPlayersInfo(l.getUserInfo()),i.getInstance().connectWebSocKet(n.id),i.getInstance().screenLog(" From ServerConnect: "+JSON.stringify(l.getRoomInfo())),t&&t(null);break;case E.JoinLink:t&&t(null);break;case E.ChangeReadyState:i.getInstance().screenLog("Success "+E.ChangeReadyState);break;case E.RemoveUser:i.getInstance().screenLog("Success "+E.RemoveUser);break;case E.SetHost:i.getInstance().screenLog("Success "+E.SetHost);break;case E.PlayGame:break;default:i.getInstance().screenLog(e+"   "+JSON.stringify(n))}},o}(r))._instance=null,f.VITE_SOCKET_ENDPOINT=u,f.VITE_CDP_ENDPOINT=g,f.USER_ID="3368637342326461",f.ACCESS_TOKEN="",f.eventTarget=new EventTarget,d=f))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/SlotManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReelManager.ts","./GameDefinedData.ts","./MyGameUtils.ts","./GameManager.ts"],(function(e){"use strict";var t,a,n,r,i,s,l,o,u,c,h,g,f,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,l=e.SpriteFrame,o=e.sp,u=e.EventTarget,c=e.Component},function(e){h=e.ReelManager},function(e){g=e.GameDefinedData},function(e){f=e.MyGameUtils},function(e){v=e.GameManager}],execute:function(){var p,m,D,L,M,d,b,y,C;i._RF.push({},"1599f8gwuZBvZ7/EBsO3Yv8","SlotManager",void 0);var R=s.ccclass,w=s.property,E=g.getAllRef();E.ResultItem,E.RewardData,e("SlotManager",(p=R("SlotManager"),m=w([l]),D=w([l]),L=w([o.SkeletonData]),p((b=t((d=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,n(t,"main_spriteFrameList",b,r(t)),n(t,"blur_spriteFrameList",y,r(t)),n(t,"main_spineDataList",C,r(t)),t.event=new u,t.reelManagerList=[],t.resultData=[],t}a(t,e);var i=t.prototype;return i.onLoad=function(){this.reelManagerList=this.getComponentsInChildren(h)},i.onDestroy=function(){var e=this;this.reelManagerList.forEach((function(t){var a;null==t||null==(a=t.event)||a.off("finish",e.receiveResult,e)}))},i.initData=function(){var e=this;this.reelManagerList.length>0?this.reelManagerList.forEach((function(t){var a;t.initData(e.main_spriteFrameList,e.blur_spriteFrameList,e.main_spineDataList),null==t||null==(a=t.event)||a.on("finish",e.receiveResult,e)})):console.error("Slot Manager Data Have Not Defined!!!")},i.spin=function(e){var t=this;if(void 0===e&&(e=null),!(this.reelManagerList.length<=0)){this.resetResult(),this.setCheatData(this.checkCheat());for(var a=function(e){t.scheduleOnce((function(){t.reelManagerList[e].spin()}),.2*e)},n=0;n<this.reelManagerList.length;n++)a(n);e&&e()}},i.receiveResult=function(e){this.resultData.length>=this.reelManagerList.length||(this.resultData.push(e),this.resultData.length==this.reelManagerList.length&&this.event.emit("finish",this.resultData))},i.receiveReward=function(e,t){var a=this;void 0===t&&(t=null),e.forEach((function(e,t){e.row>=0&&e.row<a.reelManagerList.length?a.reelManagerList[e.row].receiveRewardData(e.col,e.symbol):console.error("Reward Data Error on Slot Manager",e)})),t&&t()},i.resetResult=function(){this.resultData.length<=0||(this.resultData=[],this.reelManagerList.forEach((function(e,t){e.resetState()})))},i.logResultDetail=function(){this.resultData.forEach((function(e,t){console.log("==== Result for Col "+t+" ===="),e.forEach((function(e,t){var a;console.log("Symbol Key ",t),console.log("Symbol Name ",null==(a=e.sprite)?void 0:a.name),console.log("Symbol result ",e.result)})),console.log("==== End of Col "+t+" ====")}))},i.checkCheat=function(){var e,t,a,n;return!(null==(e=v.getInstance())||!e.getCheatEnable())&&((null==(t=v.getInstance())?void 0:t.getCheatLineValue())>=1&&(null==(a=v.getInstance())?void 0:a.getCheatLineValue())<=5||!(null==(n=v.getInstance())||!n.getEasyMode()))},i.setCheatData=function(e){var t,a,n=this;void 0===e&&(e=!1);var r=null==(t=v.getInstance())?void 0:t.getCheatLineValue();null!=(a=v.getInstance())&&a.getEasyMode()&&(r=f.getRandomInt(5,1));var i=-1;this.reelManagerList.forEach((function(t,a){switch(r){case 1:e&&(i=0),t.setCheat(e,i);break;case 2:e&&(i=1),t.setCheat(e,i);break;case 3:e&&(i=2),t.setCheat(e,i);break;case 4:e&&(i=a),t.setCheat(e,i);break;case 5:e&&(i=n.reelManagerList.length-a-1),t.setCheat(e,i);break;default:t.setCheat(!1,-1)}}))},t}(c)).prototype,"main_spriteFrameList",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=t(d.prototype,"blur_spriteFrameList",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(d.prototype,"main_spineDataList",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=d))||M));i._RF.pop()}}}));

System.register("chunks:///_virtual/SoundItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts"],(function(e){"use strict";var t,o,i,u,n,r,a,c,l,s,p,d,f,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,u=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,a=e.AudioSource,c=e.Enum,l=e.CCFloat,s=e.Node,p=e.tween,d=e.Tween,f=e.Component},function(e){S=e.default}],execute:function(){var h,y,m,g,v,_,b,A;e("SoundType",void 0),n._RF.push({},"2e92fOmdotLbKHYE0ZGKsKZ","SoundItem",void 0);var E,T=r.ccclass,I=r.property;!function(e){e[e.Background=0]="Background",e[e.Effect_Single=1]="Effect_Single",e[e.Effect_Multiple=2]="Effect_Multiple",e[e.Effect_Loop_AutoStop=3]="Effect_Loop_AutoStop"}(E||(E=e("SoundType",{})));e("default",(h=I(a),y=I({type:c(E)}),m=I(l),T((_=t((v=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,i(t,"audioSource",_,u(t)),i(t,"soundType",b,u(t)),i(t,"autoStopDelay",A,u(t)),t}o(t,e);var n=t.prototype;return n.play=function(e,t){void 0===e&&(e=0),void 0===t&&(t=-1),this.autoStopDelay=t;var o=this.audioSource.duration;switch(this.soundType){case E.Background:if(this.audioSource.state==a.AudioState.PLAYING)return;this.audioSource.loop=!0,this.audioSource.volume=S.getInstance().MusicVolume,this.audioSource.play();break;case E.Effect_Single:if(this.audioSource.state==a.AudioState.PLAYING)return;this.audioSource.loop=!1,this.audioSource.volume=S.getInstance().SfxVolume,this.audioSource.currentTime=Math.min(e,o),this.audioSource.play();break;case E.Effect_Loop_AutoStop:if(this.audioSource.state==a.AudioState.PLAYING)return;this.audioSource.loop=!0,this.audioSource.volume=S.getInstance().SfxVolume,this.audioSource.currentTime=Math.min(e,o);var i=this;i.autoStopDelay>0&&p(i.node).delay(i.autoStopDelay).call((function(){i.stop()})).start();break;case E.Effect_Multiple:var u=new s("Effect_Multiple"+this.node.name);u.setParent(this.node);var n=u.addComponent(a);n.clip=this.audioSource.clip,n.loop=!1,n.volume=S.getInstance().SfxVolume,n.currentTime=Math.min(e,o),n.play()}},n.stop=function(){this.audioSource.stop(),this.node.removeAllChildren(),d.stopAllByTarget(this.node)},n.onDestroy=function(){d.stopAllByTarget(this.node)},t}(f)).prototype,"audioSource",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(v.prototype,"soundType",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.Background}}),A=t(v.prototype,"autoStopDelay",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),g=v))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalStorageManager.ts","./SoundItem.ts"],(function(t){"use strict";var e,o,n,s,i,u,a,r,c;return{setters:[function(t){e=t.inheritsLoose,o=t.createClass},function(t){n=t.cclegacy,s=t._decorator,i=t.EventTarget,u=t.error,a=t.Component},function(t){r=t.default},function(t){c=t.default}],execute:function(){var S,l;n._RF.push({},"f7efa4V4QhD8Kf/EjP0tuIA","SoundManager",void 0);var f=s.ccclass,E=(s.property,new i);t("default",f(((l=function(t){function n(){for(var e,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).soundMap=new Map,e.isEnableMusic=!0,e.isEnableSfx=!0,e.musicVolume=1,e.sfxVolume=1,e}e(n,t),n.getInstance=function(){return n.instance};var s=n.prototype;return s.onLoad=function(){this.init(),this.loadConfigFromFromStorage()},s.init=function(){n.instance=this;for(var t=this.node.getComponentsInChildren(c),e=0;e<t.length;e++)this.soundMap.set(t[e].node.name,t[e])},s.play=function(t,e,o){void 0===e&&(e=0),void 0===o&&(o=-1),this.soundMap.has(t)?this.soundMap.get(t).play(e,o):u("can not find sound",t)},s.stop=function(t){this.soundMap.has(t)&&this.soundMap.get(t).stop()},s.loadConfigFromFromStorage=function(){this.isEnableMusic=this.getMusicStatusFromStorage(),this.isEnableSfx=this.getSfxStatusFromStorage(),this.musicVolume=this.getMusicVolumeFromStorage(),this.sfxVolume=this.getSfxVolumeFromStorage(),this.setMusicVolume(this.musicVolume),this.setSfxVolume(this.sfxVolume)},s.setMusicStatus=function(t){this.isEnableMusic=t,this.saveMusicStatusToStorage(t),E.emit(n.ON_SOUND_BG_EVENT,t)},s.setMusicVolume=function(t,e){if(void 0===e&&(e=!0),this.musicVolume=t,e){this.saveMusicVolumeToStorage(t);var o=t>0;this.saveMusicStatusToStorage(o),E.emit(n.ON_SOUND_BG_EVENT,o)}},s.setSfxVolume=function(t,e){if(void 0===e&&(e=!0),this.sfxVolume=t,e){this.saveSfxVolumeToStorage(t);var o=this.sfxVolume>0;this.saveSfxStatusToStorage(o),E.emit(n.ON_SOUND_EFF_EVENT,o)}},s.setSfxStatus=function(t){this.isEnableSfx=t,this.saveSfxStatusToStorage(t),E.emit(n.ON_SOUND_EFF_EVENT,t)},s.getMusicStatusFromStorage=function(){return r.internalGetBoolean(n.KEY_MUSIC,!0)},s.saveMusicStatusToStorage=function(t){r.internalSaveBoolean(n.KEY_MUSIC,t)},s.getMusicVolumeFromStorage=function(){return Number.parseFloat(r.internalGetString(n.KEY_MUSIC_VOLUME,"1"))},s.saveMusicVolumeToStorage=function(t){r.internalSaveString(n.KEY_MUSIC_VOLUME,t.toString())},s.getSfxStatusFromStorage=function(){return r.internalGetBoolean(n.KEY_EFFECT,!0)},s.saveSfxStatusToStorage=function(t){r.internalSaveBoolean(n.KEY_EFFECT,t)},s.getSfxVolumeFromStorage=function(){return Number.parseFloat(r.internalGetString(n.KEY_EFFECT_VOLUME,"1"))},s.saveSfxVolumeToStorage=function(t){r.internalSaveString(n.KEY_EFFECT_VOLUME,t.toString())}//!SECTION
,s.onDestroy=function(){delete n.instance,n.instance=null},o(n,[{key:"MusicVolume",get:function(){return this.isEnableMusic?this.musicVolume:0}},{key:"SfxVolume",get:function(){return this.isEnableSfx?this.sfxVolume:0}}]),n}(a)).instance=null,l.KEY_EFFECT_VOLUME="volumeEffect",l.KEY_EFFECT="isEffect",l.KEY_MUSIC_VOLUME="volumeMusic",l.KEY_MUSIC="isMusic",l.ON_SOUND_BG_EVENT="ON_SOUND_BG_EVENT",l.ON_SOUND_EFF_EVENT="ON_SOUND_EFF_EVENT",S=l))||S);n._RF.pop()}}}));

System.register("chunks:///_virtual/SoundName.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){var e;n({SoundName:void 0,getSoundName:function(n){switch(n){case e.BGM:return"BGM";case e.SfxClick:return"SfxClick";case e.SfxSpinBtn:return"spin";case e.SfxRollStop:return"stop";case e.SfxReward:return"trungthuong";case e.SfxWinline:return"winline";case e.SfxCam:return"camera";case e.SfxJackpot:return"jackpot";case e.SfxRobot:return"SfxRobot"}}}),t._RF.push({},"4bdf8BWYx1GyZInnL2StVkw","SoundName",void 0),function(n){n[n.BGM=0]="BGM",n[n.SfxClick=1]="SfxClick",n[n.SfxSpinBtn=2]="SfxSpinBtn",n[n.SfxRollStop=3]="SfxRollStop",n[n.SfxReward=4]="SfxReward",n[n.SfxWinline=5]="SfxWinline",n[n.SfxCam=6]="SfxCam",n[n.SfxJackpot=7]="SfxJackpot",n[n.SfxRobot=8]="SfxRobot"}(e||(e=n("SoundName",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/Test.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConsoleHelper.ts","./helper.ts","./Connector.ts","./Utils.ts"],(function(n){"use strict";var e,o,t,i,c,r,s,a,l,u,v,p,f,h,m,g,d,C;return{setters:[function(n){e=n.applyDecoratedDescriptor,o=n.inheritsLoose,t=n.initializerDefineProperty,i=n.assertThisInitialized,c=n.asyncToGenerator,r=n.regeneratorRuntime,s=n.extends},function(n){a=n.cclegacy,l=n._decorator,u=n.Graphics,v=n.Label,p=n.Component},function(n){f=n.consoleEvent,h=n.onReceivedMessageEvent,m=n.ConsoleHelper},function(n){g=n.GET_APP_INFO},function(n){d=n.Connector},function(n){C=n.Utils}],execute:function(){var k,w,y,b,x,T;a._RF.push({},"96344WStQJLlJ1g3VQ/G6nX","Test",void 0);var I=l.ccclass,R=l.property,z="9520ec72-8faf-4157-886d-4b82490c18c9";n("Test",(k=I("Test"),w=R(u),k(((T=function(n){function e(){for(var e,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(e=n.call.apply(n,[this].concat(s))||this).label=null,t(e,"ctx",x,i(e)),e.connector=void 0,e.testInvokeMove=c(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.connector.Connection.invoke("move",Math.random(),z);case 2:case"end":return n.stop()}}),n)}))),e.testInvokeRoom=c(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.connector.Connection.invoke("invoke-room",z);case 2:case"end":return n.stop()}}),n)}))),e}o(e,n);var a=e.prototype;return a.start=function(){var n=this;f.on(h,(function(e){n.log(e.data)})),e.instance=this,this.initConnection(),window.move=e.instance.testInvokeMove,window.room=e.instance.testInvokeRoom,C.QRCreate(200,200,this.ctx,"https://google.com.vn")},a.log=function(n){this.label=this.getComponent(v),console.log("zzz",n),this.label.string+=null!=n?"\n"+JSON.stringify(n):"null"},a.onClickSend=function(){m.Instance.sendMessageToParent(g)},a.initConnection=function(){this.connector=new d,this.connector.initConnection();var n=this.connector.Connection;n.on("move",(function(n){console.log("move",n),n.value=s({method:"move"},n)})),n.on("invoke-room",(function(n){console.log("invoke-room",n),n.value=s({method:"invoke-room"},n)})),this.connector.startConnecting()},a.update=function(){null!=this.connector&&console.log(this.connector.getConnectionState())},e}(p)).instance=void 0,x=e((b=T).prototype,"ctx",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=b))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDefinedData.ts"],(function(t){"use strict";var i,n,e,r,a,o,l,s,u,h,c,m,p,d,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Sprite,s=t.sp,u=t.Label,h=t.CCFloat,c=t.UIOpacity,m=t.tween,p=t.Vec3,d=t.Component},function(t){f=t.GameDefinedData}],execute:function(){var B,b,A,y,S,v,g,C,w,x,I,T,k,G,F,L,N,O,z,P,D,W,H,U,R,_,j;a._RF.push({},"9fe3cl3r4NNEabXsSgmsU2z","UIController",void 0);var E=o.ccclass,M=o.property,V=f.getAllRef(),X=V.GirlAnimName,q=V.BtnSpinAnimName,J=V.ChatBoxContent;t("UIController",(B=E("UIController"),b=M(l),A=M(s.Skeleton),y=M(s.Skeleton),S=M(s.Skeleton),v=M(l),g=M(u),C=M(l),w=M(u),x=M(u),I=M(l),T=M(h),k=M(h),B((L=i((F=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=t.call.apply(t,[this].concat(a))||this,e(i,"blackBG",L,r(i)),e(i,"girlAnim",N,r(i)),e(i,"btnSpinAnim",O,r(i)),e(i,"frameOutAnim",z,r(i)),e(i,"chatBoxSprite",P,r(i)),e(i,"chatBoxLabel",D,r(i)),e(i,"frameBoardSprite",W,r(i)),e(i,"frameBoardLabel",H,r(i)),e(i,"turnNumberLabel",U,r(i)),e(i,"backBtnSprite",R,r(i)),e(i,"showPos",_,r(i)),e(i,"hidePos",j,r(i)),i.currentAnimName=X.idle,i.curName="",i.curPhone="",i.schedulerCall=null,i.strIdx=0,i.strTemp="",i}n(i,t);var a=i.prototype;return a.start=function(){this.loadingState()},a.loadingState=function(){this.blackBG.node.active=!0,this.playGirlIdleAnim(),this.playIdleFrameOutAnim(),this.playBTnSpinIdleAnim(!0,!0),this.resetFrameBoardContent()},a.getUserInfoState=function(t){var i=this;this.unscheduleAllCallbacks(),this.blackBG.node.active=!0,this.showHideTurnDisplay(!1),this.showHideBackBtnSprite(!1,!1),this.resetFrameBoardContent(),this.showhideChatBox(!0);var n=function(){i.playGirlIdleAnim()};this.playGirlTalkAnim(n),t&&(n=function(){i.playBTnSpinIdleAnim(!0,!0)},this.playBTnSpinInOutAnim(!1,n)),this.setChatBoxConentWithAnim(J.getInfo,.5)},a.getUserInfoFinish=function(t,i){var n=this;this.blackBG.node.active=!1,this.curName=t,this.curPhone=i,this.setFrameBoardContent(),this.showHideBackBtnSprite(!0,!1);var e=function(){n.playGirlIdleAnim()};this.playGirlTalkAnim(e),e=function(){n.playBTnSpinIdleAnim(!1,!0),n.showHideTurnDisplay(!0)},this.playBTnSpinInOutAnim(!0,e),this.setChatBoxConentWithAnim(J.playgame,.5),this.showhideChatBox(!1,3)},a.newState=function(){this.playIdleFrameOutAnim()},a.winState=function(){var t=this;this.playGirlWinAnim((function(){t.playGirlIdleAnim()})),this.playWinFrameOutAnim()},a.outOfTurnState=function(t){var i=this;void 0===t&&(t=null),this.showHideBackBtnSprite(!1,!1),this.playIdleFrameOutAnim();this.playGirlTalkAnim((function(){i.playGirlIdleAnim()})),this.showhideChatBox(!0),this.setChatBoxConentWithAnim(J.out,.5,t)},a.showHideTurnDisplay=function(t){this.turnNumberLabel.node.active=t},a.changeTurnNumber=function(t){var i=this;this.turnNumberLabel.string=t>0?""+t:"0";this.playGirlWinAnim((function(){i.playGirlIdleAnim()}))},a.showHideBackBtnSprite=function(t,i){var n=t?255:0;n!=this.backBtnSprite.getComponent(c).opacity&&m(this.backBtnSprite.getComponent(c)).to(.1,{opacity:n}).start(),this.backBtnSprite.grayscale=i},a.onRollBtnClickAnim=function(){var t=this;this.playBTnSpinTouchAnim(!1,(function(){t.onSpinAnimFinish()}))},a.onSpinAnimFinish=function(){this.playBTnSpinIdleAnim(!1,!0)},a.showFrameBoard=function(){this.frameBoardSprite.node.active=!0;var t=this.frameBoardSprite.node.position.y;m().target(this.frameBoardSprite.node).to(.5,{position:new p(this.showPos,t,0)}).start()},a.hideFrameBoard=function(){var t=this,i=this.frameBoardSprite.node.position.y;m().target(this.frameBoardSprite.node).to(.5,{position:new p(this.hidePos,i,0)}).call((function(){t.frameBoardSprite.node.active=!1})).start()},a.setFrameBoardContent=function(){this.frameBoardLabel.string=this.curName+"\n"+this.curPhone},a.resetFrameBoardContent=function(){this.frameBoardLabel.string=""},a.setChatBoxConentWithAnim=function(t,i,n){var e=this;void 0===i&&(i=0),void 0===n&&(n=null),this.schedulerCall&&this.unschedule(this.schedulerCall),this.strTemp=t,this.strIdx=0,this.chatBoxLabel.string="",this.schedulerCall=function(){if(e.strIdx>=e.strTemp.length)return e.chatBoxLabel.string=t,void e.scheduleOnce((function(){n&&n()}),.5);e.chatBoxLabel.string+=e.strTemp[e.strIdx],e.strIdx++},this.schedule(this.schedulerCall,.05,this.strTemp.length,i)},a.setChatBoxConent=function(t){this.chatBoxLabel.string=t},a.resetChatBoxContent=function(){this.chatBoxLabel.string=""},a.showChatBoxWithAnim=function(t,i){var n=this;void 0===t&&(t=null),void 0===i&&(i=null),this.chatBoxSprite.node.scale=new p(0,0,0),this.chatBoxSprite.node.active=!0,m().target(this.chatBoxSprite.node).to(.5,{scale:new p(1,1,1)}).call((function(){t&&t(),m().target(n.chatBoxSprite.node).delay(1).to(.5,{scale:new p(0,0,0)}).call((function(){n.chatBoxSprite.node.active=!1,i&&i()})).start()})).start()},a.showhideChatBox=function(t,i){var n=this;void 0===i&&(i=0),this.chatBoxSprite.node.scale=new p(1,1,1),i>0?this.scheduleOnce((function(){n.chatBoxSprite.node.active=t}),i):this.chatBoxSprite.node.active=t},a.playGirlIdleAnim=function(){this.currentAnimName=X.idle,this.setAnimation(this.girlAnim,this.currentAnimName,!0)},a.playGirlTalkAnim=function(t){void 0===t&&(t=null),this.currentAnimName=X.talk,this.setAnimation(this.girlAnim,this.currentAnimName,!1,0,1,t)},a.playGirlWinAnim=function(t){void 0===t&&(t=null),this.currentAnimName=X.win,this.setAnimation(this.girlAnim,this.currentAnimName,!1,0,1,t)},a.playBTnSpinIdleAnim=function(t,i,n){void 0===n&&(n=null);var e=t?q.idle1:q.idle2;this.setAnimation(this.btnSpinAnim,e,i,0,1,n)},a.playBTnSpinInOutAnim=function(t,i){void 0===i&&(i=null);var n=t?q.in:q.out;this.setAnimation(this.btnSpinAnim,n,!1,0,1,i)},a.playBTnSpinTouchAnim=function(t,i){void 0===i&&(i=null);var n=q.touch;this.setAnimation(this.btnSpinAnim,n,t,0,1,i)},a.playIdleFrameOutAnim=function(t){void 0===t&&(t=null),this.setAnimation(this.frameOutAnim,"idle",!0,0,1,t)},a.playWinFrameOutAnim=function(t){void 0===t&&(t=null),this.setAnimation(this.frameOutAnim,"win",!0,0,1,t)},a.setAnimation=function(t,i,n,e,r,a){if(void 0===t&&(t=null),void 0===i&&(i="animation"),void 0===n&&(n=!1),void 0===e&&(e=0),void 0===r&&(r=1),void 0===a&&(a=null),t){var o=t.setAnimation(0,i,n);t.setCompleteListener((function(t){a&&a()})),o&&(o.animationStart=e),t.timeScale=r}},i}(d)).prototype,"blackBG",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(F.prototype,"girlAnim",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(F.prototype,"btnSpinAnim",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(F.prototype,"frameOutAnim",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(F.prototype,"chatBoxSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(F.prototype,"chatBoxLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(F.prototype,"frameBoardSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(F.prototype,"frameBoardLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(F.prototype,"turnNumberLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(F.prototype,"backBtnSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(F.prototype,"showPos",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 235}}),j=i(F.prototype,"hidePos",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 235}}),G=F))||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t,o,p,r,u,i,a,c,s;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,p=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,i=n.Node,a=n.Prefab,c=n.instantiate,s=n.Component}],execute:function(){var l,f,d,_,P,v,h;r._RF.push({},"3dc575jDU1L8K+GEEPgNJFA","UIManager",void 0);var g=u.ccclass,b=u.property;n("default",(l=b(i),f=b([a]),g(((h=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return e=n.call.apply(n,[this].concat(r))||this,o(e,"popupRoot",P,p(e)),o(e,"popupPrefabs",v,p(e)),e.popupMap=new Map,e._popupInstances=new Map,e._currentPopup=void 0,e._currentPopupName=void 0,e}t(e,n),e.getInstance=function(){return e._instance};var r=e.prototype;return r.onLoad=function(){this.init()},r.start=function(){},r.init=function(){var n=this;e._instance=this,this.popupPrefabs.forEach((function(e){n.popupMap.set(e.name,e)}))},r.openPopup=function(n,t,o,p,r){void 0===o&&(o=null),void 0===p&&(p=null),void 0===r&&(r=null);var u=e._instance;r=r||u.popupRoot,t==u._currentPopupName&&u._currentPopup.node?p&&p(u._currentPopup):(u._currentPopupName=t,u.getPopupInstance(n,t,(function(n){u._currentPopup!=n?(u._currentPopup=n,n.open(o),n._close=function(){u._currentPopup=null,u._currentPopupName=""},p&&p(u._currentPopup)):p&&p(u._currentPopup)}),r))},r.getPopupInstance=function(n,t,o,p){void 0===p&&(p=null);var r=e._instance,u=null==p?this.node:p;if(r._popupInstances.has(t)){var i=r._popupInstances.get(t);i.node.parent=null,u.addChild(i.node),o(i)}else this.loadPopUpPrefab(n,t,o,u)},r.loadPopUpPrefab=function(n,t,o,p){void 0===p&&(p=null);var r=e._instance,u=this.popupMap.get(t),i=c(u),a=i.getComponent(n);p.addChild(i),r._popupInstances.set(t,a),o(a)},r.onDestroy=function(){delete e._instance,e._instance=null},e}(s))._instance=null,P=e((_=h).prototype,"popupRoot",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(_.prototype,"popupPrefabs",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=_))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/UserInfo.ts",["cc"],(function(t){"use strict";var i,n;return{setters:[function(t){i=t.cclegacy,n=t.Vec2}],execute:function(){i._RF.push({},"b522fRdqyxIJIjWqPuwJX2p","UserInfo",void 0);t("UserInfo",function(){function t(t,i,e,s){void 0===t&&(t=0),void 0===i&&(i="Default"),void 0===e&&(e=""),void 0===s&&(s=""),this.index=0,this.userName="",this.userID="",this.roomID="",this.avatar="",this.initPos=n.ZERO,this.facing=0,this.index=t,this.userName=i,this.userID=e,this.avatar=s}var i=t.prototype;return i.getIndex=function(){return this.index},i.getName=function(){return this.userName},i.getID=function(){return this.userID},i.getRoomID=function(){return this.roomID},i.getAvatarUrl=function(){return this.avatar},i.setRoomID=function(t){this.roomID=t},i.getInitPos=function(){return this.initPos},i.getFacing=function(){return this.facing},i.setInitPos=function(t,i){this.initPos=t,this.facing=i},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var o,t,r,n,l,a,u,i,c;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,n=e.log,l=e.Color,a=e.assetManager,u=e.SpriteFrame,i=e.Texture2D,c=e.Component}],execute:function(){var s;t._RF.push({},"e3c082XcOBDIYuMoPxfQOml","Utils",void 0);var f=r.ccclass;r.property,e("Utils",f("Utils")(s=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.QRCreate=function(e,o,t,r){n("QRCreate "+r);var a=new QRCode(-1,QRErrorCorrectLevel.H);a.addData(r),a.make(),t.fillColor=l.BLACK;for(var u=e/a.getModuleCount(),i=o/a.getModuleCount(),c=0;c<a.getModuleCount();c++)for(var s=0;s<a.getModuleCount();s++)if(a.isDark(c,s)){var f=Math.ceil((s+1)*u)-Math.floor(s*u),d=Math.ceil((c+1)*u)-Math.floor(c*u);t.rect(Math.round(s*u),Math.round(c*i),f,d),t.fill()}return a},t.loadImage=function(e,o){void 0===o&&(o=null),""!=e&&e?a.loadRemote(e,(function(e,t){if(null==e){var r=new u,n=new i;n.image=t,r.texture=n,r.name="QRImg",o&&o(r)}else console.log("Error when loading img",e)})):console.log("Error empty url")},t}(c))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/WebsocketConnect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Connector.ts","./ServerConnect.ts","./UserInfo.ts","./ChannelManager.ts","./RoomInfo.ts","./GamePlayUI.ts","./ConsoleHelper.ts"],(function(e){"use strict";var o,n,t,i,r,s,a,c,l,u,f,v,m,d,h,p,I,g,D,y,E;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.extends,s=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,l=e._decorator,u=e.Label,f=e.Node,v=e.Vec2,m=e.director,d=e.Component},function(e){h=e.Connector},function(e){p=e.ServerConnect},function(e){I=e.UserInfo},function(e){g=e.ChannelManager},function(e){D=e.RoomInfo},function(e){y=e.GamePlayUI},function(e){E=e.ConsoleHelper}],execute:function(){var L,R,k,C,M,S,w,_;e({WS_Event:void 0,WS_Type:void 0}),c._RF.push({},"08cc2LppUpBAJ7RLaP4hpQO","WebsocketConnect",void 0);var O,N,T=l.ccclass,x=l.property;!function(e){e.room="room",e.invoke_room="invoke-room",e.invoke_player="invoke-player",e.playerState="playerstate",e.roomCountDown="roomCountDown",e.roomGameStart="roomGameStart",e.timeCount="timeCount",e.move="move",e.playerMove="playerMove",e.endmove="endmove",e.playerEndMove="playerEndMove",e.roomRedOn="roomRedOn",e.roomRedOff="roomRedOff",e.playerDead="playerDead",e.userFinish="userFinish",e.finish="finish",e.leaderBoard="leaderBoard"}(O||(O=e("WS_Event",{}))),function(e){e.listen="listen",e.invoke="invoke"}(N||(N=e("WS_Type",{})));e("WebsocketConnect",(L=T("WebsocketConnect"),R=x(u),k=x(f),L(((_=function(e){function o(){for(var n,c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return(n=e.call.apply(e,[this].concat(l))||this).connector=void 0,n.DefaultRoomID="",t(n,"TestMsg",S,i(n)),t(n,"GameMenuNode",w,i(n)),n.roomListen=function(e){console.log("Listen room event",e),e.value=r({method:O.room},e);var n=new D(e.name,e.id,e.hostUserAppId,1,e.maxUser);o.getInstance().logToZalo("zzzzzz: "+e.start+"  -- "+JSON.stringify(e)),g.setRoomInfo(n)},n.invoke_roomEvent=function(e){console.log("Invoke invoke-room event",e),n.screenLog(" InvokeRoom "+e),e.value=r({method:O.invoke_room},e)},n.playerStateListen=function(e){console.log("Listen playerstate event",e),e.forEach((function(e){new I(e.userName.index,e.userName,e.id,e.userAvatar).setInitPos(new v(e.position.x,e.position.y),e.position.facing)})),n.scheduleOnce((function(){}),1.5)},n.roomCountDownListen=function(e){console.log("Listen Room CountDown event",e),e.value=r({method:O.roomCountDown},e)},n.gameStartListen=function(e){console.log("Listen Room Game start",e),e.value=r({method:O.roomGameStart},e),y.eventTarget.emit(y.TIME_COUNT,e.countDownTime)},n.timeDisplayListen=function(e){console.log("Listen Time Count Event",e),y.eventTarget.emit(y.TIME_COUNT,e)},n.userMoveEvent=function(e){console.log("Invoke Move Event",e),e.value=r({method:O.move},e)},n.playerMoveListen=function(e){console.log("Listen Player Move Event",e)},n.playerEndMoveListen=function(e){console.log("Listen Player End Move Event",e)},n.userEndMoveEvent=function(e){console.log("Invoke End Move Event",e),e.value=r({method:O.endmove},e)},n.roomRedOnListen=function(e){console.log("Listen Room Red Off",e)},n.roomRedOffListen=function(e){console.log("Listen Room Red Off",e)},n.playerDeadListen=function(e){console.log("Listen Player Dead",e+" - "+g.getUserInfo().getID())},n.userFinishListen=function(e){console.log("Listen User Finish",e+" - "+g.getUserInfo().getID())},n.finishEvent=function(e){console.log("Listen Finish Signal",e)},n.leaderBoardEvent=function(e){console.log("Listen Leader Board",e),e.forEach((function(e){new I(e.index,e.userName,e.userAppId,e.userAvatar)}))},n.InvokeMove=s(a().mark((function e(o,t,i){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=0),void 0===t&&(t=0),void 0===i&&(i=0),r=JSON.stringify({roomId:n.DefaultRoomID,userAppId:p.USER_ID,x:o,y:t,facing:i}),console.log("SEND MOVE signal to: "+n.DefaultRoomID+" with data "+r),e.next=7,n.connector.Connection.invoke(O.move,{roomId:n.DefaultRoomID,userAppId:p.USER_ID,x:o,y:t,facing:i});case 7:case"end":return e.stop()}}),e)}))),n.InvokeEndMove=s(a().mark((function e(){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=JSON.stringify({roomId:n.DefaultRoomID,userAppId:p.USER_ID}),console.log("SEND END MOVE signal to: "+n.DefaultRoomID+" with data "+o),e.next=4,n.connector.Connection.invoke(O.endmove,{roomId:n.DefaultRoomID,userAppId:p.USER_ID});case 4:case"end":return e.stop()}}),e)}))),n.InvokeRoom=s(a().mark((function e(o){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=n.DefaultRoomID),console.log("SEND INVOKE-ROOM signal to: "+o),e.next=4,n.connector.Connection.invoke(O.invoke_room,o);case 4:case"end":return e.stop()}}),e)}))),n.InvokePlayer=s(a().mark((function e(o){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=n.DefaultRoomID),console.log("SEND INVOKE-PLayer signal to: "+o),e.next=4,n.connector.Connection.invoke(O.invoke_player,o);case 4:case"end":return e.stop()}}),e)}))),n.InvokeFinish=s(a().mark((function e(){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=JSON.stringify({roomId:n.DefaultRoomID,userAppId:p.USER_ID}),console.log("SEND FINISH signal to: "+n.DefaultRoomID+" with data "+o),e.next=4,n.connector.Connection.invoke(O.finish,{roomId:n.DefaultRoomID,userAppId:p.USER_ID});case 4:case"end":return e.stop()}}),e)}))),n}n(o,e),o.getInstance=function(){return o._instance};var c=o.prototype;return c.createInstance=function(){null==o._instance?(o._instance=this,m.isPersistRootNode(this.node)||(console.log("ADD PErsisten Node 1"),m.addPersistRootNode(this.node))):this.destroy()},c.screenLog=function(e){},c.logToZalo=function(e){E.Instance.sendMessageToParent("LOG",e)},c.onLoad=function(){this.createInstance(),m.addPersistRootNode(this.TestMsg.node),window.move=o.getInstance().InvokeMove,window.room=o.getInstance().InvokeRoom,window.room=o.getInstance().InvokeFinish},c.onDestroy=function(){delete o._instance,o._instance=null},c.connectWebSocKet=function(e){console.log("Connect WS with roomID: "+e),this.DefaultRoomID=e,this.connector=new h,this.connector.initConnection(e),this.initEventListener()},c.initEventListener=function(){var e=this.connector.Connection;e.on(O.room,this.roomListen),e.on(O.invoke_room,this.invoke_roomEvent),e.on(O.playerState,this.playerStateListen),e.on(O.roomCountDown,this.roomCountDownListen),e.on(O.roomGameStart,this.gameStartListen),e.on(O.timeCount,this.timeDisplayListen),e.on(O.move,this.userMoveEvent),e.on(O.playerMove,this.playerMoveListen),e.on(O.endmove,this.userEndMoveEvent),e.on(O.playerEndMove,this.playerEndMoveListen),e.on(O.roomRedOn,this.roomRedOnListen),e.on(O.roomRedOff,this.roomRedOffListen),e.on(O.playerDead,this.playerDeadListen),e.on(O.userFinish,this.userFinishListen),e.on(O.finish,this.finishEvent),e.on(O.leaderBoard,this.leaderBoardEvent),this.connector.startConnecting()},c.closeEventListener=function(){var e=this.connector.Connection;null!=e&&(console.log("Close webSocket"),e.off(O.room,this.roomListen),e.off(O.invoke_room,this.invoke_roomEvent),e.off(O.playerState,this.playerStateListen),e.off(O.roomCountDown,this.roomCountDownListen),e.off(O.roomGameStart,this.gameStartListen),e.off(O.timeCount,this.timeDisplayListen),e.off(O.move,this.userMoveEvent),e.off(O.playerMove,this.playerMoveListen),e.off(O.endmove,this.userEndMoveEvent),e.off(O.playerEndMove,this.playerEndMoveListen),e.off(O.roomRedOn,this.roomRedOnListen),e.off(O.roomRedOff,this.roomRedOffListen),e.off(O.playerDead,this.playerDeadListen),e.off(O.userFinish,this.userFinishListen),e.off(O.finish,this.finishEvent),e.off(O.leaderBoard,this.leaderBoardEvent)),this.connector.stopConnection(),this.connector=null},c.update=function(){null!=this.connector&&console.log(this.connector.getConnectionState())},c.onClickInvokeRoom=function(){this.InvokeRoom()},c.onClickInvokeMove=function(){this.InvokeMove()},c.onClickInvokeFinish=function(){this.InvokeFinish},o}(d))._instance=null,_.eventTarget=new EventTarget,S=o((M=_).prototype,"TestMsg",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=o(M.prototype,"GameMenuNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=M))||C));c._RF.pop()}}}));

System.register("chunks:///_virtual/ZaloConnection.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConsoleHelper.ts","./helper.ts","./ChannelManager.ts","./UserInfo.ts","./DebugMsgOnScreen.ts"],(function(n){"use strict";var e,t,o,a,s,c,l,r,i,u,g,d,I,O,f,S,E,L,A,C;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,a=n.EventTarget,s=n.director,c=n.Component},function(n){l=n.consoleEvent,r=n.onReceivedMessageEvent,i=n.ConsoleHelper},function(n){u=n.ACCESS_TOKEN,g=n.SHARE_LINK,d=n.GET_HREF,I=n.FOLLOW_OA,O=n.SCAN_QR_CODE,f=n.GET_USER_INFO,S=n.GET_APP_INFO,E=n.LOGIN},function(n){L=n.ChannelManager},function(n){A=n.UserInfo},function(n){C=n.DebugMsgOnScreen}],execute:function(){var D,N;t._RF.push({},"d51cbXKsHxDT5xCrmtrn692","ZaloConnection",void 0);var v=o.ccclass;o.property,n("ZaloConnection",v("ZaloConnection")(((N=function(n){function t(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))||this).isLogin=!1,e.ZaloMsgLisstener=function(n){e.ZaloDataExecution(n.data)},e}e(t,n),t.getInstance=function(){return t._instance};var o=t.prototype;return o.createInstance=function(){if(null!=t._instance)return console.log("Zalo connect has already loaded"),void this.destroy();t._instance=this,s.isPersistRootNode(this.node)||(console.log("Add Zalo To Persisten Node"),s.addPersistRootNode(this.node))},o.onLoad=function(){this.createInstance();var n=this;l.on(r,(function(e){n.ZaloDataExecution(e.data)}))},o.start=function(){var n;null==(n=C.getInstance())||n.setDebugMsg("Start Debug Session",!0),this.onClickSendLogin()},o.onClose=function(){var n=this;l.off(r,(function(e){n.ZaloDataExecution(e.data)}))},o.onDestroy=function(){delete t._instance,t._instance=null},o.getLoginInfo=function(){return this.isLogin},o.ZaloDataExecution=function(n){var e,o,a,s,c,l,r,i;if(null!=n)switch(n.event){case E:console.log("LOG-IN ZALO"),null==(e=C.getInstance())||e.setDebugMsg("LOG-IN ZALO "+n.data),this.onClickSendAppInfo(),this.onClickSendUserInfo();break;case S:console.log("APPINFO ZALO "+n.data),null==(o=C.getInstance())||o.setDebugMsg("APPINFO ZALO "+n.data);break;case f:if(console.log("USER INFO ZALO "+n.data),null==(a=C.getInstance())||a.setDebugMsg("USER INFO ZALO "+n.data),n.data){var D=new A(n.data.userInfo.index,n.data.userInfo.name,n.data.userInfo.id,n.data.userInfo.avatar);L.setUserInfo(D)}this.onClickSendFLogWinHref(),this.onClickSendFollowOA();break;case O:return console.log("SCAN QR CODE "+n.data),void(null==(s=C.getInstance())||s.setDebugMsg("SCAN QR CODE "+n.data));case I:return console.log("FOLLOW OA ZALO "+n.data),void(null==(c=C.getInstance())||c.setDebugMsg("FOLLOW OA ZALO "+n.data));case d:console.log("GET-HREF ZALO "+n.data),null==(l=C.getInstance())||l.setDebugMsg("GET-HREF ZALO "+n.data);var N=n.data;if(L.isViewer()&&(N=window.location.search),null==new URLSearchParams(N).get("roomId"))return void console.error("Zalo ROOM ID IS NULL");t.eventTarget.emit("test");break;case g:console.log("SHARE-LINK ZALO "+n.data),null==(r=C.getInstance())||r.setDebugMsg("SHARE-LINK ZALO "+n.data);break;case u:console.log("ACCESS TOKEN ZALO "+n.data),null==(i=C.getInstance())||i.setDebugMsg("ACCESS TOKEN ZALO "+n.data);break;default:return}else console.error("No Zalo Connection")},o.onClickSendLogin=function(){var n;null==(n=C.getInstance())||n.setDebugMsg("SEND LOGIN"),i.Instance.sendMessageToParent(E)},o.onClickSendAppInfo=function(){var n;null==(n=C.getInstance())||n.setDebugMsg("SEND GET_APP_INFO"),i.Instance.sendMessageToParent(S)},o.onClickSendUserInfo=function(){var n;null==(n=C.getInstance())||n.setDebugMsg("SEND GET_USER_INFO"),i.Instance.sendMessageToParent(f)},o.onClickSendScanQR=function(){var n;null==(n=C.getInstance())||n.setDebugMsg("SEND SCAN_QR_CODE"),i.Instance.sendMessageToParent(O)},o.onClickSendFollowOA=function(){var n;null==(n=C.getInstance())||n.setDebugMsg("SEND FOLLOW_OA"),i.Instance.sendMessageToParent(I)},o.onClickSendFLogWinHref=function(){var n;null==(n=C.getInstance())||n.setDebugMsg("SEND GET_HREF"),i.Instance.sendMessageToParent(d)},o.onClickSendGetAccessToken=function(){var n;null==(n=C.getInstance())||n.setDebugMsg("SEND ACCESS_TOKEN"),i.Instance.sendMessageToParent(u)},t}(c))._instance=null,N.eventTarget=new a,D=N))||D);t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});